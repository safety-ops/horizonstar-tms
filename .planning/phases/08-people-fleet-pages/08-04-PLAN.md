---
phase: 08-people-fleet-pages
plan: 04
type: execute
wave: 1
depends_on: []
files_modified:
  - mockups/web-tms-redesign/brokers.html
autonomous: false

must_haves:
  truths:
    - "Brokers page shows 4 gradient summary cards (Total Brokers, Total Revenue, Avg Fee %, Est. Total Profit)"
    - "Broker cards show ALL info: medal ranking, name, load/trip counts, activity badge, reliability score bar with colored label, 4-stat grid, loads/month, total fees, last order date, Edit/Delete buttons"
    - "4 broker cards demonstrate all reliability score ranges: Excellent (>=80), Good (>=60), Fair (>=40), New (<40)"
    - "Activity status badges show all 4 states: Active (green), Recent (blue), Inactive (amber), Dormant (red)"
    - "Reliability score bars have dynamic colors matching score range (green, blue, amber, red)"
    - "Light/dark theme toggle works correctly"
  artifacts:
    - path: "mockups/web-tms-redesign/brokers.html"
      provides: "Complete brokers list mockup with ranked cards"
      min_lines: 400
  key_links:
    - from: "brokers.html"
      to: "shared.css"
      via: "link rel stylesheet"
      pattern: 'href="./shared.css"'
    - from: "brokers.html"
      to: "base-template.html"
      via: "copied app shell (sidebar + header + page-content)"
      pattern: "class=\"app-layout\""
---

<objective>
Create the Brokers mockup page with gradient summary cards and dense broker cards showing ranking medals, reliability scores, computed metrics, and activity statuses.

Purpose: The Brokers page is the most information-dense card layout in the TMS, featuring computed metrics (reliability scores, profit per load, fee percentages), gamification (medal rankings), and activity tracking. The mockup must demonstrate all score ranges and activity states.

Output: `mockups/web-tms-redesign/brokers.html` — standalone HTML file with broker list (no detail view needed for brokers).
</objective>

<execution_context>
@/Users/reepsy/.claude/get-shit-done/workflows/execute-plan.md
@/Users/reepsy/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/08-people-fleet-pages/08-RESEARCH.md
@mockups/web-tms-redesign/shared.css
@mockups/web-tms-redesign/base-template.html
@mockups/web-tms-redesign/dashboard.html
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create brokers.html with summary cards and broker cards grid</name>
  <files>mockups/web-tms-redesign/brokers.html</files>
  <action>
Create `brokers.html` by copying the app shell from `base-template.html`. Set title to "Horizon Star TMS -- Brokers" and mark the Brokers nav item as `active`.

Inside `<div class="page-content">`, build the complete brokers page.

**IMPORTANT CONSTRAINTS (from user decisions):**
- Show ALL info on broker cards -- ranking, name, counts, activity, reliability, stats grid, fees, last order, actions. Keep everything visible.
- Keep ALL computed metrics including reliability score with colored progress bar, ranking medals, activity badges.
- Edit/Delete action buttons on every card.
- Broker summary cards keep gradient backgrounds (differentiates from other pages).
- Money values color-coded: green for revenue/earnings, red for costs/fees. Monospace for all financial numbers.

---

**1. Header Row**
- Title: "Brokers" with building icon
- "+ New Broker" button (btn-primary)

**2. Summary Cards Row (4 gradient hero cards)**
Use `grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 16px;`
- Total Brokers: "12" — `.hero-card.blue`
- Total Revenue: "$287,450.00" (green mono) — `.hero-card.green`
- Avg Fee %: "9.8%" — `.hero-card.amber`
- Est. Total Profit: "$124,320.00" (green mono) — `.hero-card.purple`

**3. Broker Cards Grid**
Use `grid-template-columns: repeat(auto-fill, minmax(340px, 1fr)); gap: 16px;`

Create 6 broker cards sorted by estimated profit (descending), demonstrating all score/activity ranges:

**Card 1 - Central Dispatch (Rank #1, Excellent, Active):**
- Card header (dark gradient: `background: linear-gradient(135deg, var(--bg-elevated) 0%, var(--bg-card) 100%)`):
  - Medal: gold medal emoji
  - Name: "Central Dispatch" (18px bold)
  - Stats: "45 loads / 12 trips" (12px, text-secondary)
  - Activity: badge-green "Active"
- Reliability score section (padding, light background):
  - "Reliability Score" label + "90/100" value
  - Label: badge-green "Excellent"
  - Progress bar: 90% width, background `var(--green)`, bar height 8px, border-radius 4px, track using `var(--bg-elevated)`
- Stats grid (2x2, gap 8px):
  - Avg Rate/Load: "$1,850.00" (blue-dim background, blue text label)
  - Avg Fee: "$165.00 (8.9%)" (amber-dim background, amber text label)
  - Est. Profit/Load: "$580.50" (green-dim background, green text -- positive)
  - Total Revenue: "$83,250.00" (bg-elevated, text-primary)
- Additional stats row (small text, border-top, padding 8px):
  - "3.8 loads/month" | "Total Fees: $7,425.00"
- Last order row (small text, dashed border-top, padding 8px):
  - "Last order: Feb 7, 2026 (2 days ago)"
- Actions footer (bg-elevated background, padding 8px, border-top):
  - Edit (btn-ghost btn-sm) | Delete (btn-ghost btn-sm, text-danger)

**Card 2 - Super Dispatch (Rank #2, Good, Active):**
- Medal: silver medal emoji
- Name: "Super Dispatch"
- Stats: "38 loads / 10 trips"
- Activity: badge-green "Active"
- Reliability: 70/100, badge-blue "Good", progress bar var(--blue)
- Avg Rate: $1,620.00, Avg Fee: $195.00 (12.0%), Profit/Load: $420.30, Revenue: $61,560.00
- 3.2 loads/month, Total Fees: $7,410.00
- Last order: Feb 5, 2026 (4 days ago)

**Card 3 - LoadMax (Rank #3, Good, Recent):**
- Medal: bronze medal emoji
- Name: "LoadMax"
- Stats: "28 loads / 8 trips"
- Activity: badge-blue "Recent"
- Reliability: 60/100, badge-blue "Good", progress bar var(--blue)
- Avg Rate: $1,480.00, Avg Fee: $148.00 (10.0%), Profit/Load: $380.00, Revenue: $41,440.00
- 2.3 loads/month, Total Fees: $4,144.00
- Last order: Jan 22, 2026 (18 days ago)

**Card 4 - Ship.Cars (No medal, Fair, Inactive):**
- No medal
- Name: "Ship.Cars"
- Stats: "15 loads / 5 trips"
- Activity: badge-amber "Inactive"
- Reliability: 45/100, badge-amber "Fair", progress bar var(--amber)
- Avg Rate: $1,340.00, Avg Fee: $201.00 (15.0%), Profit/Load: $210.00, Revenue: $20,100.00
- 1.3 loads/month, Total Fees: $3,015.00
- Last order: Dec 8, 2025 (63 days ago)

**Card 5 - Auto Transport HQ (No medal, New, Dormant):**
- No medal
- Name: "Auto Transport HQ"
- Stats: "4 loads / 2 trips"
- Activity: badge-red "Dormant"
- Reliability: 20/100, badge-red "New", progress bar var(--red)
- Avg Rate: $1,200.00, Avg Fee: $180.00 (15.0%), Profit/Load: $120.00, Revenue: $4,800.00
- 0.3 loads/month, Total Fees: $720.00
- Last order: Aug 15, 2025 (178 days ago)

**Card 6 - QuickShip Transport (No medal, Fair, Recent):**
- No medal
- Name: "QuickShip Transport"
- Stats: "22 loads / 6 trips"
- Activity: badge-blue "Recent"
- Reliability: 50/100, badge-amber "Fair", progress bar var(--amber)
- Avg Rate: $1,550.00, Avg Fee: $170.00 (11.0%), Profit/Load: $340.00, Revenue: $34,100.00
- 1.8 loads/month, Total Fees: $3,740.00
- Last order: Jan 28, 2026 (12 days ago)

**Styling notes:**
- Page-specific CSS (in `<style>` tag) for broker card structure: dark gradient header, reliability bar, stats grid, additional stats, last order, actions footer. Keep under 100 lines.
- Reliability progress bar: Track is `var(--bg-elevated)`, fill color matches score range (green >=80, blue >=60, amber >=40, red <40). Height 8px, border-radius 4px.
- Stats grid: 2x2 using `display: grid; grid-template-columns: 1fr 1fr; gap: 8px;`. Each cell: padded, border-radius, colored dim background with matching text color for label.
- Money values: `font-family: var(--font-mono); font-weight: var(--weight-semibold);` -- green for revenue/profit, red for fees when prominent.
- Medal emojis: Use gold/silver/bronze medal emojis for top 3 cards only.
- Activity badges use standard badge classes from shared.css.
  </action>
  <verify>
Open `mockups/web-tms-redesign/brokers.html` in a browser. Verify:
1. Page loads without console errors
2. 4 gradient summary cards show at top (blue, green, amber, purple)
3. 6 broker cards in responsive grid
4. Top 3 cards show gold/silver/bronze medal emojis
5. Each card shows: name, load/trip counts, activity badge, reliability score bar, 4-stat grid, loads/month, total fees, last order date, Edit/Delete buttons
6. Reliability bars have correct colors: green (90), blue (70, 60), amber (50, 45), red (20)
7. Activity badges show: Active (green), Recent (blue), Inactive (amber), Dormant (red)
8. All money values in monospace green
9. Theme toggle works
  </verify>
  <done>brokers.html exists with 4 gradient summary cards, 6 broker cards with full computed metrics (medals, reliability scores, profit, fees, activity status, last order), using shared.css with working theme toggle</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Complete Brokers mockup with 4 gradient hero summary cards and 6 broker cards showing ranking medals, reliability score bars (all 4 color ranges), 4-stat grids, activity status badges (all 4 states), load counts, fee percentages, last order info, and Edit/Delete buttons.</what-built>
  <how-to-verify>
1. Open `mockups/web-tms-redesign/brokers.html` in your browser
2. Verify 4 gradient summary cards at top (Total Brokers, Revenue, Avg Fee, Est. Profit)
3. Verify 6 broker cards in responsive grid
4. Check top 3 cards have gold/silver/bronze medal emojis
5. Check reliability score bars: green for 90, blue for 70/60, amber for 50/45, red for 20
6. Check activity badges: Active (green), Recent (blue), Inactive (amber), Dormant (red)
7. Check 4-stat grid in each card shows Avg Rate, Avg Fee, Est. Profit, Total Revenue
8. Verify loads/month and total fees in additional stats row
9. Verify last order info shows date + days ago
10. Verify Edit/Delete action buttons at bottom of each card
11. Toggle dark/light theme -- cards should look clean in both
  </how-to-verify>
  <resume-signal>Type "approved" or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
- [ ] brokers.html loads in browser without console errors
- [ ] 4 gradient summary cards (hero-card blue/green/amber/purple)
- [ ] 6 broker cards in responsive grid (minmax 340px)
- [ ] Top 3 cards show gold/silver/bronze medals
- [ ] Reliability score bars with 4 color ranges (green/blue/amber/red)
- [ ] Reliability labels: Excellent, Good, Fair, New
- [ ] Activity badges: Active (green), Recent (blue), Inactive (amber), Dormant (red)
- [ ] 4-stat grid in each card (Avg Rate, Avg Fee, Profit, Revenue)
- [ ] Additional stats: loads/month, total fees
- [ ] Last order date + days since
- [ ] Edit/Delete buttons on every card
- [ ] Money values in green monospace
- [ ] Theme toggle works
</verification>

<success_criteria>
Brokers mockup faithfully reproduces the production brokers page with gradient summary cards, dense broker cards with ranking medals, reliability score bars, computed metrics, activity tracking, and action buttons, all using Phase 6 design system with working light/dark toggle.
</success_criteria>

<output>
After completion, create `.planning/phases/08-people-fleet-pages/08-04-SUMMARY.md`
</output>
