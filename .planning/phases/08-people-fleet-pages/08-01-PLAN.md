---
phase: 08-people-fleet-pages
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - mockups/web-tms-redesign/drivers.html
autonomous: false

must_haves:
  truths:
    - "Drivers list page shows a responsive card grid with ALL driver data fields (avatar, name, type badge, cut%, status, phone, email, file badges, ticket/violation/claim counts, trips, earnings, action buttons)"
    - "Document expiration alerts banner appears above driver cards showing expiring/expired docs with red/amber badges"
    - "Driver detail section shows stats row (6 cards), qualification files table (10 types), personal files table (3 types), custom folders accordion, and compliance records (tickets/violations/claims)"
    - "File tables show a REALISTIC MIX of uploaded, missing, expired, and expiring documents demonstrating all visual states"
    - "View, Edit, Del action buttons are visible on every driver card"
    - "Light/dark theme toggle works correctly on both list and detail views"
  artifacts:
    - path: "mockups/web-tms-redesign/drivers.html"
      provides: "Complete drivers list + driver detail mockup"
      min_lines: 600
  key_links:
    - from: "drivers.html"
      to: "shared.css"
      via: "link rel stylesheet"
      pattern: 'href="./shared.css"'
    - from: "drivers.html"
      to: "base-template.html"
      via: "copied app shell (sidebar + header + page-content)"
      pattern: "class=\"app-layout\""
---

<objective>
Create the Drivers mockup page with BOTH the driver list (card grid with document expiration alerts) and the driver detail view (6 stats cards, qualification files, personal files, custom folders, compliance records) in a single HTML file.

Purpose: Drivers is a dense, information-rich page with document compliance tracking. The mockup must show every data field from production, demonstrate all visual states (uploaded/missing/expired/expiring files), and include the document expiration alerts banner.

Output: `mockups/web-tms-redesign/drivers.html` â€” standalone HTML file with driver list AND driver detail as separate visible sections.
</objective>

<execution_context>
@/Users/reepsy/.claude/get-shit-done/workflows/execute-plan.md
@/Users/reepsy/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/08-people-fleet-pages/08-RESEARCH.md
@mockups/web-tms-redesign/shared.css
@mockups/web-tms-redesign/base-template.html
@mockups/web-tms-redesign/dashboard.html
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create drivers.html with list view and detail view</name>
  <files>mockups/web-tms-redesign/drivers.html</files>
  <action>
Create `drivers.html` by copying the app shell structure from `base-template.html` (sidebar, header, page-content wrapper, Lucide script, theme toggle JS, sidebar toggle JS). Set page title to "Horizon Star TMS -- Drivers" and mark the Drivers nav item as `active`.

Inside `<div class="page-content">`, build TWO visible sections separated by an `<hr>` with margin: a "DRIVER LIST VIEW" section and a "DRIVER DETAIL VIEW" section. Both are visible simultaneously (this is a mockup).

**IMPORTANT CONSTRAINTS (from user decisions):**
- Show ALL info on driver cards -- avatar, name, status, type, cut%, file badges, counts, earnings. Dense but informative.
- Action buttons (View, Edit, Del) stay visible on every card.
- Detail view within same HTML file as list view.
- Realistic sample data mix -- file tables show uploaded, missing, expired, and expiring documents.
- Document expiration alert banner at top of list view.

---

## SECTION A: DRIVER LIST VIEW

**A1. Header Row**
- Title: "Drivers" with a users icon
- Right side: 2 buttons -- "+ New Driver" (btn-primary) and "+ Add Owner-OP" (btn-secondary)

**A2. Document Expiration Alerts Banner**
- Red-tinted card (use `background: var(--red-dim); border-left: 3px solid var(--red)`)
- Warning icon + "Document Expiration Alerts"
- 3 alert items showing:
  - "John Smith - CDL - EXPIRED" (badge-red)
  - "Maria Garcia - Medical Card - Expires in 5d" (badge-amber)
  - "David Chen - MVR - Expires in 2d" (badge-red)

**A3. Drivers Grid**
- Use CSS grid: `grid-template-columns: repeat(auto-fill, minmax(360px, 1fr)); gap: 16px;`
- Create 6 driver cards with VARIED data to demonstrate all states:

**Card 1 - John Smith (Company Driver, Active):**
- Avatar circle (JS initials, green-dim background)
- Name: "John Smith" (h4)
- Driver type: (no badge -- company driver)
- Cut: "32% cut" label
- Status: badge-green "ACTIVE" (right-aligned)
- Phone: (215) 555-0147
- Email: jsmith@example.com
- File badges row: "8 Qual" (badge-blue), "2 Pers" (badge-purple), "2 Exp" (badge-red)
- Compliance counts: "1" ticket (badge-amber)
- Bottom row (border-top): 12 Trips | $18,450.00 (green mono) | View Edit Del buttons

**Card 2 - Maria Garcia (Owner-OP, Active):**
- Avatar (MG, blue-dim)
- Name: "Maria Garcia"
- Type: badge-amber "Owner-OP"
- Cut: "15% dispatch fee"
- Status: badge-green "ACTIVE"
- Phone: (305) 555-0293
- Email: mgarcia@email.com
- File badges: "10 Qual" (badge-blue), "3 Pers" (badge-purple)
- No compliance issues
- Bottom: 8 Trips | $24,780.00 | View Edit Del

**Card 3 - David Chen (Company Driver, Active):**
- Avatar (DC, amber-dim)
- Name: "David Chen"
- Type: (no badge)
- Cut: "32% cut"
- Status: badge-green "ACTIVE"
- Phone: (718) 555-0412
- File badges: "7 Qual" (badge-blue), "1 Pers" (badge-purple), "3 Exp" (badge-red)
- Compliance: "2" violations (badge-purple)
- Bottom: 15 Trips | $22,100.00 | View Edit Del

**Card 4 - Robert Williams (Company Driver, Inactive):**
- Avatar (RW, red-dim)
- Name: "Robert Williams"
- Cut: "30% cut"
- Status: badge-red "INACTIVE"
- Phone: (404) 555-0188
- File badges: "5 Qual" (badge-blue), "0 Pers" (badge-purple)
- Compliance: "1" claim (badge-amber)
- Bottom: 3 Trips | $4,200.00 | View Edit Del

**Card 5 - Sarah Johnson (Owner-OP, Active):**
- Avatar (SJ, purple-dim)
- Name: "Sarah Johnson"
- Type: badge-amber "Owner-OP"
- Cut: "12% dispatch fee"
- Status: badge-green "ACTIVE"
- Phone: (312) 555-0567
- Email: sjohnson@trucking.com
- File badges: "9 Qual" (badge-blue), "3 Pers" (badge-purple), "1 Exp" (badge-red)
- Bottom: 20 Trips | $45,320.00 | View Edit Del

**Card 6 - James Lee (Company Driver, Active):**
- Avatar (JL, green-dim)
- Name: "James Lee"
- Cut: "32% cut"
- Status: badge-green "ACTIVE"
- Phone: (817) 555-0634
- File badges: "10 Qual" (badge-blue), "2 Pers" (badge-purple)
- Bottom: 6 Trips | $9,870.00 | View Edit Del

---

## SECTION B: DRIVER DETAIL VIEW (showing John Smith)

Use a visual separator (e.g., `<div style="margin: 48px 0; padding: 24px; background: var(--bg-elevated); border-radius: var(--radius); text-align: center;"><h3>DRIVER DETAIL VIEW (below)</h3></div>`) between list and detail.

**B1. Header Row**
- Left: Back button (ghost, with arrow-left icon) + larger avatar (50px, JS initials) + "John Smith" name + phone + email (text-secondary)
- Right: Status badge-green "ACTIVE" + "Edit Driver" btn-secondary

**B2. Stats Cards Row (6 cards in responsive grid)**
Use `grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); gap: 16px;`
- Driver Cut: "32%" (stat-value)
- Total Trips: "12"
- Total Earnings: "$18,450.00" (green text, stat-icon green)
- Qual Files: "8/10" (stat-icon blue)
- Personal Files: "2/3" (stat-icon purple)
- Custom Folders: "2" (stat-icon blue)

**B3. Qualification Files Section**
- Section card with blue left-border header: "Driver Qualification Files" + Upload button
- Table with columns: Document Type | Status | Expiration | Uploaded | Actions
- 10 rows showing ALL file types with MIXED states:
  1. CDL | badge-green "Uploaded" | badge-red "EXPIRED" (Jan 15, 2026) | Dec 10, 2024 | View, Del
  2. MEDICAL_CARD | badge-green "Uploaded" | badge-green "Valid until Aug 22, 2026" | Mar 5, 2025 | View, Del
  3. MEDICAL_EXAMINER_VERIFICATION | badge-green "Uploaded" | -- | Mar 5, 2025 | View, Del
  4. MVR | badge-green "Uploaded" | badge-amber "Expires in 5d" | Jan 10, 2025 | View, Del
  5. PSP_REPORT | badge-green "Uploaded" | badge-green "Valid until Nov 1, 2026" | Oct 15, 2025 | View, Del
  6. EMPLOYMENT_VERIFICATION | badge-green "Uploaded" | -- | Jun 20, 2024 | View, Del
  7. APPLICATION_OF_EMPLOYMENT | badge-green "Uploaded" | -- | Jun 20, 2024 | View, Del
  8. CLEARING_HOUSE_QUERY | badge-green "Uploaded" | -- | Sep 1, 2025 | View, Del
  9. DRUG_TEST_RESULT | badge-gray "Missing" | -- | -- | Upload button
  10. CHAIN_OF_CUSTODY | badge-gray "Missing" | -- | -- | Upload button

**B4. Personal Files Section**
- Section card with purple left-border header: "Driver Personal Files"
- Table: Document Type | Status | Uploaded | Actions
  1. SSN | badge-green "Uploaded" | Jun 20, 2024 | View, Del
  2. BANKING_INFO | badge-green "Uploaded" | Jul 15, 2024 | View, Del
  3. W9 | badge-gray "Missing" | -- | Upload button

**B5. Custom Folders Section**
- Section card with cyan/blue left-border header: "Custom Folders" + "+ New Folder" button
- 2 accordion-style folders (use a card with clickable header and collapsible body):
  - **Folder 1: "Training Certificates" (2 files)** (expanded)
    - Table: File Name | Type | Uploaded | Notes | Actions
    - Row 1: "Hazmat Training 2025.pdf" | PDF | Jan 5, 2026 | "Annual renewal" | View, Del
    - Row 2: "Defensive Driving.pdf" | PDF | Sep 12, 2025 | "" | View, Del
  - **Folder 2: "Insurance Documents" (1 file)** (collapsed -- show just header with count)

**B6. Compliance Records Section**
- Section card with red left-border header: "Compliance Records" + 3 buttons (+ Ticket, + Violation, + Claim)
- Summary badges row: "1 Open Ticket" (badge-amber), "0 Violations" (badge-gray), "0 Claims" (badge-gray)
- **Tickets table:**
  - Columns: Date | Description | Status | Court Date | Decision | Actions
  - 1 row: "Jan 8, 2026" | "Speeding - I-95 Pennsylvania" | badge-amber "OPEN" | "Mar 15, 2026" | "--" | Edit, Del
- **Violations table:**
  - "No violations on record" (text-muted, centered)
- **Claims table:**
  - "No claims on record" (text-muted, centered)

**Styling notes:**
- Use ONLY classes from shared.css -- no custom `<style>` blocks except minimal page-specific layout CSS for the drivers grid and card layout (keep it under 80 lines of page-specific CSS in a `<style>` tag).
- Section headers with colored left borders: use `.hero-card` classes or inline `border-left: 3px solid var(--blue/purple/red)` on card containers.
- File badges: Small inline badges with emoji + count + category. Use `display: inline-flex; gap: 4px; padding: 2px 8px; border-radius: 6px; font-size: 11px;`
- Money values: green color, monospace font (`font-family: var(--font-mono); color: var(--green);`)
- All driver card data must be visible without hover menus or dropdowns.
  </action>
  <verify>
Open `mockups/web-tms-redesign/drivers.html` in a browser. Verify:
1. Page loads without console errors
2. Document expiration alerts banner is visible at top with red/amber badges
3. 6 driver cards display in responsive grid
4. Each card shows ALL fields: avatar, name, type badge (for owner-ops), cut%, status, phone, email, file badges, compliance counts, trips, earnings, View/Edit/Del buttons
5. Detail view section shows below with stats cards, qual files table, personal files table, custom folders, compliance records
6. File tables show mix of Uploaded (green), Missing (gray), EXPIRED (red), Expires in Xd (amber/red) badges
7. Theme toggle works on both list and detail sections
8. Sidebar collapses/expands correctly
  </verify>
  <done>drivers.html exists with driver list view (6 cards with full data, doc expiration alerts) and driver detail view (6 stats, 10 qual files, 3 personal files, custom folders, compliance records), using shared.css design system with working theme toggle</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Complete Drivers mockup with list view (document expiration alerts banner, 6 driver cards with all data fields) and detail view (6 stats cards, qualification files table with 10 types showing mixed upload/missing/expired states, personal files, custom folders accordion, compliance records with tickets/violations/claims).</what-built>
  <how-to-verify>
1. Open `mockups/web-tms-redesign/drivers.html` in your browser
2. Check document expiration alerts banner appears with red/amber badges at top
3. Verify all 6 driver cards show: avatar, name, type badge (Owner-OP for 2 drivers), cut%, status, phone, email, file count badges, compliance counts, trip count, earnings, and View/Edit/Del buttons
4. Scroll to detail view section below
5. Verify 6 stat cards (Cut, Trips, Earnings, Qual 8/10, Pers 2/3, Custom Folders 2)
6. Verify qualification files table shows 10 types with mixed states (2 missing, 1 expired, 1 expiring soon, rest valid)
7. Verify personal files table shows 3 types (2 uploaded, 1 missing)
8. Verify custom folders section with 2 folders
9. Verify compliance records with 1 open ticket
10. Toggle dark/light theme -- both views should look clean
  </how-to-verify>
  <resume-signal>Type "approved" or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
- [ ] drivers.html loads in browser without console errors
- [ ] Document expiration alerts banner shows with red/amber badges
- [ ] 6 driver cards in responsive grid with ALL data fields visible
- [ ] Owner-OP drivers show orange type badge
- [ ] File badges show Qual/Pers/Exp counts with colored backgrounds
- [ ] Action buttons (View, Edit, Del) visible on every card
- [ ] Detail view shows 6 stat cards with correct values
- [ ] Qualification files table has 10 rows with mixed states (uploaded, missing, expired, expiring)
- [ ] Personal files table has 3 rows with mixed states
- [ ] Custom folders accordion shows 2 folders (1 expanded, 1 collapsed)
- [ ] Compliance records show 1 open ticket, empty violations/claims
- [ ] Theme toggle works on both list and detail views
- [ ] shared.css is referenced (no standalone style duplication beyond minimal page-specific grid CSS)
</verification>

<success_criteria>
Drivers mockup faithfully reproduces the production drivers list (card grid with doc expiration alerts) and driver detail view (stats, qualification files, personal files, custom folders, compliance records), using Phase 6 design system with realistic mixed-state data and working light/dark toggle.
</success_criteria>

<output>
After completion, create `.planning/phases/08-people-fleet-pages/08-01-SUMMARY.md`
</output>
