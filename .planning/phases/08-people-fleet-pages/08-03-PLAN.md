---
phase: 08-people-fleet-pages
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - mockups/web-tms-redesign/trucks.html
autonomous: false

must_haves:
  truths:
    - "Trucks list page shows a table with all columns (Unit#, Type, Year/Make/Model, VIN last 6, Plate+State, Ownership badge, Compliance status, Status badge, Actions)"
    - "Compliance column shows green 'OK' or red 'X Issues' badges computed from cab card, annual inspection, 2290, and IFTA statuses"
    - "Truck detail section shows 3 stat cards, compliance files table (8 types with mixed expiration states), custom folders, and maintenance records table"
    - "Ownership badges use correct colors (green=OWNED, amber=LEASED, blue=FINANCED)"
    - "Light/dark theme toggle works on both list and detail views"
  artifacts:
    - path: "mockups/web-tms-redesign/trucks.html"
      provides: "Complete trucks list + truck detail mockup"
      min_lines: 400
  key_links:
    - from: "trucks.html"
      to: "shared.css"
      via: "link rel stylesheet"
      pattern: 'href="./shared.css"'
    - from: "trucks.html"
      to: "base-template.html"
      via: "copied app shell (sidebar + header + page-content)"
      pattern: "class=\"app-layout\""
---

<objective>
Create the Trucks (Fleet) mockup page with the trucks table (unit#, type, VIN, plate, ownership, compliance, status) and the truck detail view (compliance files with 8 types, custom folders, maintenance records) in a single HTML file.

Purpose: The Fleet page is the central hub for vehicle management and compliance tracking. The mockup must demonstrate compliance status computation (OK vs Issues) and file expiration tracking for 8 document types.

Output: `mockups/web-tms-redesign/trucks.html` â€” standalone HTML file with trucks table and truck compliance detail view.
</objective>

<execution_context>
@/Users/reepsy/.claude/get-shit-done/workflows/execute-plan.md
@/Users/reepsy/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/08-people-fleet-pages/08-RESEARCH.md
@mockups/web-tms-redesign/shared.css
@mockups/web-tms-redesign/base-template.html
@mockups/web-tms-redesign/dashboard.html
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create trucks.html with list and detail views</name>
  <files>mockups/web-tms-redesign/trucks.html</files>
  <action>
Create `trucks.html` by copying the app shell from `base-template.html`. Set title to "Horizon Star TMS -- Fleet" and mark the Trucks nav item as `active`.

Inside `<div class="page-content">`, build TWO visible sections: trucks list and truck detail.

---

## SECTION A: TRUCKS LIST VIEW

**A1. Header Row**
- Title: "Fleet" with truck icon
- "+ New Unit" button (btn-primary)

**A2. Trucks Table**
- Full-width `.table-container` with `.table`
- Columns: Unit # | Type | Year/Make/Model | VIN | Plate | Ownership | Compliance | Status | Actions (sticky)
- 6 rows with varied data:

Row 1 - Truck 77:
  - Unit: "#77" (bold)
  - Type: "Car Hauler" + "8 cars" (text-secondary)
  - Year/Make/Model: "2022 Peterbilt 389" + "White" (text-muted)
  - VIN: "A12345" (mono, last 6 chars)
  - Plate: "ABC-1234" + badge-blue "PA"
  - Ownership: badge-green "OWNED"
  - Compliance: badge-green "OK"
  - Status: badge-green "ACTIVE"
  - Actions: Files | Edit | Del

Row 2 - Truck 88:
  - Unit: "#88"
  - Type: "Car Hauler" + "7 cars"
  - Year/Make/Model: "2021 Freightliner Cascadia" + "Blue"
  - VIN: "B67890" (mono)
  - Plate: "XYZ-5678" + badge-blue "NJ"
  - Ownership: badge-amber "LEASED"
  - Compliance: badge-red "2 Issues" (cab card expired + no IFTA)
  - Status: badge-green "ACTIVE"
  - Actions: Files | Edit | Del

Row 3 - Truck 55:
  - Unit: "#55"
  - Type: "Car Hauler" + "6 cars"
  - Year/Make/Model: "2023 Kenworth T680" + "Red"
  - VIN: "C24680" (mono)
  - Plate: "DEF-9012" + badge-blue "FL"
  - Ownership: badge-blue "FINANCED"
  - Compliance: badge-green "OK"
  - Status: badge-green "ACTIVE"
  - Actions: Files | Edit | Del

Row 4 - Truck 42:
  - Unit: "#42"
  - Type: "Flatbed" + "3 cars"
  - Year/Make/Model: "2020 International LT" + "Silver"
  - VIN: "D13579" (mono)
  - Plate: "GHI-3456" + badge-blue "GA"
  - Ownership: badge-green "OWNED"
  - Compliance: badge-red "1 Issue" (annual inspection expired)
  - Status: badge-amber "MAINTENANCE"
  - Actions: Files | Edit | Del

Row 5 - Truck 63:
  - Unit: "#63"
  - Type: "Car Hauler" + "8 cars"
  - Year/Make/Model: "2024 Peterbilt 579" + "Black"
  - VIN: "E97531" (mono)
  - Plate: "JKL-7890" + badge-blue "TX"
  - Ownership: badge-amber "LEASED"
  - Compliance: badge-green "OK"
  - Status: badge-green "ACTIVE"
  - Actions: Files | Edit | Del

Row 6 - Trailer T-01:
  - Unit: "#T-01" + badge-gray "TRAILER"
  - Type: "Open Trailer" + "7 cars"
  - Year/Make/Model: "2021 Cottrell CX-09" + "--"
  - VIN: "F86420" (mono)
  - Plate: "TRL-0001" + badge-blue "PA"
  - Ownership: badge-green "OWNED"
  - Compliance: badge-green "OK"
  - Status: badge-green "ACTIVE"
  - Actions: Files | Edit | Del

Also show truck 77 has an assigned trailer: after "#77" unit number, show badge-blue "T-01" as assigned trailer badge.

---

## SECTION B: TRUCK DETAIL VIEW (showing Truck 88 -- has compliance issues)

Use visual separator between list and detail.

**B1. Header Row**
- Back button (ghost, arrow-left) + "Truck #88 - 2021 Freightliner Cascadia"
- Status: badge-green "ACTIVE"

**B2. Stats Cards Row (3 cards)**
- Compliance Files: "6/8" (stat-icon amber -- not all files present)
- Custom Folders: "1"
- Total Maintenance Cost: "$4,230.00" (green text)

**B3. Truck Compliance Files Section**
- Card with amber left-border header: "Truck Compliance Files" + Upload button
- Table: Document Type | Status | Expiration | Uploaded | Actions
- 8 rows with MIXED states:
  1. VEHICLE_REGISTRATION | badge-green "Uploaded" | badge-green "Valid until Dec 31, 2026" | Jan 15, 2026 | View, Del
  2. ANNUAL_INSPECTION | badge-green "Uploaded" | badge-red "EXPIRED" (Dec 1, 2025) | Dec 1, 2024 | View, Del
  3. PA_INSPECTION | badge-green "Uploaded" | badge-amber "Expires in 6d" | Feb 15, 2025 | View, Del
  4. INSURANCE_CARD | badge-green "Uploaded" | badge-green "Valid until Jun 30, 2026" | Jul 1, 2025 | View, Del
  5. TITLE | badge-green "Uploaded" | -- | Mar 20, 2021 | View, Del
  6. LEASE_AGREEMENT | badge-green "Uploaded" | badge-green "Valid until Mar 31, 2027" | Apr 1, 2024 | View, Del
  7. IRP_CAB_CARD | badge-gray "Missing" | -- | -- | Upload button
  8. IFTA_PERMIT | badge-gray "Missing" | -- | -- | Upload button

**B4. Custom Folders Section**
- Card with cyan/blue left-border: "Custom Folders" + "+ New Folder" button
- 1 folder: "Repair Receipts" (3 files) -- expanded
  - Table: File Name | Type | Uploaded | Notes | Actions
  - Row 1: "Transmission_Repair_2025.pdf" | PDF | Nov 10, 2025 | "Major transmission rebuild" | View, Del
  - Row 2: "Brake_Service_Jan2026.pdf" | PDF | Jan 20, 2026 | "" | View, Del
  - Row 3: "Oil_Change_Receipt.jpg" | Image | Feb 1, 2026 | "Regular service" | View, Del

**B5. Maintenance Records Section**
- Card with green left-border: "Maintenance Records" + "+ Add Service Record" button
- Table: Date | Service Type | Shop | Description | Odometer | Cost | Actions
- 4 rows:
  1. Feb 1, 2026 | Oil Change | Quick Lube Miami | "Regular oil change and filter replacement" | 145,230 | $89.00 | Edit, Del
  2. Jan 20, 2026 | Brake Service | Pete's Truck Service | "Front and rear brake pad replacement" | 144,800 | $1,240.00 | Edit, Del
  3. Nov 10, 2025 | Transmission | Freightliner Dealer | "Major transmission rebuild - warranty claim" | 138,500 | $2,450.00 | Edit, Del
  4. Sep 5, 2025 | Tire Replacement | Goodyear Fleet | "Replaced 4 drive tires" | 132,000 | $451.00 | Edit, Del

**Styling notes:**
- Use ONLY shared.css classes plus minimal page-specific CSS (under 50 lines).
- VIN column uses monospace font (`.mono` class).
- Compliance badges: green "OK" when 0 issues, red "X Issues" when 1+ issues.
- Ownership badges: green=OWNED, amber=LEASED, blue=FINANCED.
- Money values: green, monospace.
- TRAILER badge uses badge-gray.
- Assigned trailer badge uses badge-blue and is placed inline after unit number.
  </action>
  <verify>
Open `mockups/web-tms-redesign/trucks.html` in a browser. Verify:
1. Page loads without console errors
2. Trucks table shows 6 rows with all 9 columns
3. Truck 77 shows assigned trailer badge "T-01" in blue
4. Trailer T-01 row shows gray "TRAILER" badge
5. Ownership badges use correct colors (green OWNED, amber LEASED, blue FINANCED)
6. Compliance shows green "OK" for 4 trucks and red "X Issues" for 2 trucks
7. Detail view shows 3 stat cards, compliance files (8 types with mixed states), custom folders, maintenance records
8. Missing files (IRP_CAB_CARD, IFTA_PERMIT) show gray "Missing" badges with Upload action
9. Theme toggle works on both views
  </verify>
  <done>trucks.html exists with trucks table (6 rows with compliance status, ownership badges, trailer support) and truck detail view (compliance files with 8 types showing mixed states, custom folders, maintenance records), using shared.css with working theme toggle</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Complete Trucks (Fleet) mockup with table view (6 trucks with unit#, type, VIN, plate+state, ownership badges, compliance status, status badges, trailer support) and detail view (3 stats, 8 compliance files with mixed upload/missing/expired states, custom folders, 4 maintenance records).</what-built>
  <how-to-verify>
1. Open `mockups/web-tms-redesign/trucks.html` in your browser
2. Verify trucks table has 6 rows with all columns visible
3. Check ownership badges: green OWNED, amber LEASED, blue FINANCED
4. Check compliance: green "OK" for compliant trucks, red "2 Issues" and "1 Issue" for non-compliant
5. Verify Truck 77 shows assigned trailer badge "T-01" next to unit number
6. Verify Trailer T-01 row shows gray "TRAILER" badge
7. Scroll to detail view for Truck 88
8. Verify compliance files table shows 8 types with mix of uploaded, missing, expired, expiring states
9. Verify custom folders with 3 files and maintenance records with 4 entries
10. Toggle dark/light theme
  </how-to-verify>
  <resume-signal>Type "approved" or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
- [ ] trucks.html loads in browser without console errors
- [ ] Trucks table has 6 rows with all 9 columns
- [ ] Unit # column shows bold numbers with TRAILER and assigned trailer badges
- [ ] VIN column shows last 6 chars in monospace
- [ ] Plate column shows plate + blue state badge
- [ ] Ownership badges: green OWNED, amber LEASED, blue FINANCED
- [ ] Compliance badges: green "OK" (0 issues), red "X Issues" (1+ issues)
- [ ] Status badges: ACTIVE (green), MAINTENANCE (amber)
- [ ] Detail view shows 3 stat cards
- [ ] Compliance files table has 8 rows with mixed states
- [ ] Custom folders section with expandable folder
- [ ] Maintenance records table with 4 entries and cost column
- [ ] Theme toggle works on both views
</verification>

<success_criteria>
Trucks mockup faithfully reproduces the production Fleet page table with compliance status computation and the truck detail view with 8 compliance file types, custom folders, and maintenance records, all using Phase 6 design system with working light/dark toggle.
</success_criteria>

<output>
After completion, create `.planning/phases/08-people-fleet-pages/08-03-SUMMARY.md`
</output>
