---
phase: 11-design-system-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - assets/css/design-system.css
autonomous: true

must_haves:
  truths:
    - "design-system.css contains ALL component styles from mockup shared.css: sidebar, header, buttons, cards, badges, tables, forms, modals, toasts, spinners, pagination, accessibility"
    - "Sidebar styles match mockup: green active indicator (left border), hover states, section labels, collapsed state"
    - "Header styles match mockup: search bar with green focus ring, theme toggle, user avatar"
    - "Modal styles match mockup: backdrop blur, rounded corners, scale animation, header/body/footer"
    - "Table styles match mockup: elevated thead background, uppercase labels, hover rows, border bottom"
    - "Button styles match mockup: primary (green), secondary (transparent+border), danger (red), ghost, sm/lg variants"
    - "Badge styles match mockup: green/amber/blue/red/purple/gray variants plus outline"
    - "Form styles match mockup: bg-app background, green focus ring, error states, select chevron"
    - "Card styles match mockup: stat-card, hero-card with colored left borders and gradients"
    - "Toast, spinner, pagination, and accessibility styles are present and use design tokens"
  artifacts:
    - path: "assets/css/design-system.css"
      provides: "Complete production design system with all global component styles"
  key_links:
    - from: "mockups/web-tms-redesign/shared.css"
      to: "assets/css/design-system.css"
      via: "All component styles from mockup migrated to production CSS"
      pattern: "\\.sidebar|\\.header|\\.btn|\\.card|\\.badge|\\.table|\\.form|\\.modal"
    - from: "assets/css/design-system.css"
      to: "assets/css/base.css"
      via: "design-system.css takes precedence, base.css kept as fallback"
---

<objective>
Complete the design-system.css file by verifying existing component styles match the mockup shared.css and adding the missing production styles (toasts, spinners, loading states, accessibility, pagination).

Purpose: Ensures design-system.css is the complete, single source of truth for all global component styles. This covers GLC-01 through GLC-10: sidebar, header, modals, toasts, tables, forms, buttons, badges, cards, and pagination. The existing file already has sidebar, header, modals, tables, buttons, badges, forms, and cards migrated from shared.css -- this plan adds the remaining missing pieces and verifies completeness.

Output: A complete design-system.css with all tokens + all component styles, ready for the hex replacement passes in plans 02-05.
</objective>

<execution_context>
@/Users/reepsy/.claude/get-shit-done/workflows/execute-plan.md
@/Users/reepsy/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/11-design-system-foundation/11-CONTEXT.md
@assets/css/design-system.css
@assets/css/base.css
@mockups/web-tms-redesign/shared.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Verify existing component styles match mockup and add missing styles</name>
  <files>assets/css/design-system.css</files>
  <action>
**Part A: Verify existing component styles match mockup shared.css**

design-system.css already contains component styles migrated from shared.css. Do a side-by-side comparison for these sections to confirm they match (they should already be identical or near-identical since design-system.css was adapted from shared.css):

1. **Sidebar** (GLC-01): `.sidebar`, `.sidebar-logo`, `.sidebar-nav`, `.nav-section`, `.nav-section-label`, `.nav-item`, `.nav-item:hover`, `.nav-item.active` (green left border + green-dim bg), `.nav-item .nav-icon`, `.nav-item .nav-label`, `.sidebar.collapsed` variants, `.sidebar-toggle`
   - Compare design-system.css lines ~474-614 against shared.css lines ~266-406
   - Fix any differences so design-system.css matches mockup

2. **Header** (GLC-02): `.header`, `.header-left`, `.header-title`, `.header-search`, `.header-search:focus-within`, `.header-search input`, `.header-right`, `.header-avatar`, `.theme-toggle`
   - Compare design-system.css lines ~616-727 against shared.css lines ~408-519

3. **Modals** (GLC-03): `.modal-overlay`, `.modal`, `.modal-overlay.active .modal`, `.modal-header`, `.modal-title`, `.modal-close`, `.modal-body`, `.modal-footer`
   - Compare design-system.css lines ~1170-1253 against shared.css lines ~995-1079

4. **Tables** (GLC-05): `.table-container`, `.table`, `.table thead`, `.table th`, `.table td`, `.table tbody tr:hover`, `.table .mono`
   - Compare design-system.css lines ~1048-1093 against shared.css lines ~874-919

5. **Forms** (GLC-06): `.form-group`, `.form-group label`, `.form-input`, focus states, error states, `.form-row`, textarea, select with chevron
   - Compare design-system.css lines ~1096-1167 against shared.css lines ~921-993

6. **Buttons** (GLC-07): `.btn`, `.btn-primary`, `.btn-secondary`, `.btn-danger`, `.btn-ghost`, `.btn-sm`, `.btn-lg`, `.btn-icon`
   - Compare design-system.css lines ~785-869 against shared.css lines ~611-695

7. **Badges** (GLC-08): `.badge`, `.badge-green/amber/blue/red/purple/gray`, `.badge-outline`
   - Compare design-system.css lines ~1000-1046 against shared.css lines ~825-872

8. **Cards** (GLC-09): `.card`, `.card-hover`, `.card-header`, `.card-title`, `.stat-card`, `.hero-card` with color variants
   - Compare design-system.css lines ~872-997 against shared.css lines ~697-823

For any differences found, update design-system.css to match the mockup shared.css values (since shared.css is the design spec). Most should already match.

**Part B: Add missing production styles**

Append the following NEW styles after the responsive section (after the `}` closing `@media (max-width: 480px)` block, approximately line 1513):

1. **Toast notifications** (GLC-04) — from base.css lines 272-301, using design tokens:
   ```css
   /* ===== TOAST NOTIFICATIONS ===== */
   .toast {
     position: fixed;
     top: 20px;
     right: 20px;
     z-index: 10000;
     padding: 14px 20px;
     background: var(--bg-card);
     color: var(--text-primary);
     border-radius: var(--radius);
     box-shadow: var(--shadow-lg);
     border-left: 4px solid var(--text-muted);
     animation: slideInRight 0.3s var(--ease-smooth);
     max-width: 400px;
     font-size: var(--text-sm);
   }
   .toast.success { border-left-color: var(--green); }
   .toast.error { border-left-color: var(--red); }
   .toast.warning { border-left-color: var(--amber); }
   .toast.info { border-left-color: var(--blue); }

   @keyframes slideInRight {
     from { transform: translateX(100%); opacity: 0; }
     to { transform: translateX(0); opacity: 1; }
   }
   ```

2. **Spinner/loading styles** — from base.css lines 208-266, using design tokens:
   ```css
   /* ===== SPINNERS & LOADING ===== */
   .spinner {
     width: 40px;
     height: 40px;
     border: 3px solid var(--border);
     border-top-color: var(--green);
     border-radius: 50%;
     animation: spin 0.8s linear infinite;
   }
   .spinner-inline {
     width: 20px;
     height: 20px;
     border: 2px solid var(--border);
     border-top-color: var(--green);
     border-radius: 50%;
     animation: spin 0.8s linear infinite;
     display: inline-block;
     vertical-align: middle;
   }
   .spinner-sm {
     width: 16px;
     height: 16px;
     border: 2px solid var(--border);
     border-top-color: var(--green);
     border-radius: 50%;
     animation: spin 0.8s linear infinite;
   }
   .loading, .loading-state {
     display: flex;
     align-items: center;
     justify-content: center;
     padding: 40px;
     flex-direction: column;
     gap: 12px;
     color: var(--text-muted);
     font-size: var(--text-sm);
   }
   .skeleton-line {
     height: 14px;
     background: var(--bg-elevated);
     border-radius: var(--radius-sm);
     animation: skeleton-pulse 1.5s ease-in-out infinite;
   }

   @keyframes spin {
     to { transform: rotate(360deg); }
   }
   @keyframes skeleton-pulse {
     0%, 100% { opacity: 1; }
     50% { opacity: 0.4; }
   }
   ```

3. **Pagination controls** (GLC-10):
   ```css
   /* ===== PAGINATION ===== */
   .pagination {
     display: flex;
     align-items: center;
     justify-content: center;
     gap: 4px;
     padding: 16px 0;
   }
   .pagination-btn {
     display: inline-flex;
     align-items: center;
     justify-content: center;
     min-width: 36px;
     height: 36px;
     padding: 0 8px;
     border-radius: var(--radius-sm);
     border: 1px solid var(--border);
     background: var(--bg-card);
     color: var(--text-secondary);
     font-size: var(--text-sm);
     font-weight: var(--weight-medium);
     cursor: pointer;
     transition: all var(--transition-fast);
   }
   .pagination-btn:hover {
     background: var(--bg-card-hover);
     color: var(--text-primary);
     border-color: var(--text-muted);
   }
   .pagination-btn.active {
     background: var(--green);
     color: white;
     border-color: var(--green);
   }
   .pagination-btn:disabled {
     opacity: 0.4;
     cursor: not-allowed;
   }
   .pagination-info {
     font-size: var(--text-sm);
     color: var(--text-muted);
     padding: 0 8px;
   }
   ```

4. **Accessibility styles** (GLC-10 / DSF-05) — from base.css lines 76-132:
   ```css
   /* ===== ACCESSIBILITY ===== */
   .skip-link {
     position: absolute;
     left: -999px;
     top: auto;
     width: 1px;
     height: 1px;
     overflow: hidden;
     z-index: 10001;
     padding: 12px 20px;
     background: var(--green);
     color: white;
     font-weight: var(--weight-semibold);
     border-radius: var(--radius);
     text-decoration: none;
   }
   .skip-link:focus {
     left: 16px;
     top: 16px;
     width: auto;
     height: auto;
     overflow: visible;
   }
   .sr-only {
     position: absolute;
     width: 1px;
     height: 1px;
     padding: 0;
     margin: -1px;
     overflow: hidden;
     clip: rect(0, 0, 0, 0);
     white-space: nowrap;
     border-width: 0;
   }
   :focus-visible {
     outline: 2px solid var(--green);
     outline-offset: 2px;
   }
   .aria-live-region {
     position: absolute;
     left: -10000px;
     width: 1px;
     height: 1px;
     overflow: hidden;
   }

   @media (prefers-reduced-motion: reduce) {
     *, *::before, *::after {
       animation-duration: 0.01ms !important;
       animation-iteration-count: 1 !important;
       transition-duration: 0.01ms !important;
       scroll-behavior: auto !important;
     }
   }
   ```

5. **Additional utility classes** not yet present:
   ```css
   /* Additional utilities */
   .block { display: block; }
   .inline { display: inline; }
   .inline-block { display: inline-block; }
   .font-normal { font-weight: var(--weight-normal); }
   .m-0 { margin: 0; }
   .p-0 { padding: 0; }
   .w-auto { width: auto; }
   .cursor-pointer { cursor: pointer; }
   .cursor-not-allowed { cursor: not-allowed; }
   .text-left { text-align: left; }
   ```

IMPORTANT:
- Do NOT remove or modify any existing styles in design-system.css
- Append new styles after the existing responsive section
- Use design system token names (var(--green), var(--radius), etc.), NOT old names (var(--primary), var(--success))
- Keep the toast animation name `slideInRight` matching what ui.js expects
  </action>
  <verify>
Part A verification -- existing styles confirmed to match mockup:
- `grep -c '\.nav-item\.active' assets/css/design-system.css` should be >= 1
- `grep -c '\.header-search:focus-within' assets/css/design-system.css` should be >= 1
- `grep -c '\.modal-overlay' assets/css/design-system.css` should be >= 2
- `grep -c '\.btn-primary' assets/css/design-system.css` should be >= 2
- `grep -c '\.badge-green' assets/css/design-system.css` should be >= 1
- `grep -c '\.table thead' assets/css/design-system.css` should be >= 1
- `grep -c '\.form-group label' assets/css/design-system.css` should be >= 1
- `grep -c '\.hero-card\.green' assets/css/design-system.css` should be >= 1

Part B verification -- new styles added:
- `grep -c '\.toast' assets/css/design-system.css` should be >= 5
- `grep -c '\.spinner' assets/css/design-system.css` should be >= 3
- `grep -c '\.skip-link' assets/css/design-system.css` should be >= 1
- `grep -c '\.pagination' assets/css/design-system.css` should be >= 4
- `grep -c 'slideInRight' assets/css/design-system.css` should be >= 1
- `grep -c 'prefers-reduced-motion' assets/css/design-system.css` should be >= 1
- `grep -c '\.skeleton-line' assets/css/design-system.css` should be >= 1
  </verify>
  <done>design-system.css is verified as a complete match to mockup shared.css for all existing component styles (sidebar, header, modals, tables, buttons, badges, forms, cards), and now also includes toast, spinner, pagination, and accessibility styles. All GLC-01 through GLC-10 requirements have implementing CSS in design-system.css.</done>
</task>

</tasks>

<verification>
After task completes:
1. design-system.css has all component sections matching shared.css
2. New sections appended: toasts, spinners, pagination, accessibility, additional utilities
3. No duplicate selectors or conflicting rules introduced
4. All new styles use design system tokens (var(--green), var(--radius), etc.)
5. File loads without CSS parse errors (open index.html -- no console CSS warnings)
</verification>

<success_criteria>
- design-system.css contains ALL global component styles: tokens, layout, sidebar, header, modals, tables, forms, buttons, badges, cards, toasts, spinners, accessibility, pagination, icons, utilities, responsive
- All existing component styles verified to match mockup shared.css spec
- Toast animation name `slideInRight` preserved for ui.js compatibility
- No regressions -- old styles untouched, new styles appended at end
</success_criteria>

<output>
After completion, create `.planning/phases/11-design-system-foundation/11-01-SUMMARY.md`
</output>
