---
phase: 12-core-dispatch-pages
plan: 03
type: execute
wave: 2
depends_on: [12-01]
files_modified: [index.html]
autonomous: true

must_haves:
  truths:
    - "Load Board stat cards use design system .stat-card styling with design tokens instead of inline padding/min-width"
    - "Load Board category tabs use design system tokens for border-radius, font-weight, padding"
    - "Load Board subcategory tabs use design system tokens"
    - "Trips status filter tabs use design system tokens for border-radius, font-weight, padding"
    - "Trips truck tabs use design system tokens for border-radius, font-weight, padding, transitions"
    - "All existing functionality preserved: category switching, subcategory filtering, truck tab switching, status filtering, year filtering, trip actions"
  artifacts:
    - path: "index.html"
      provides: "Restyled renderLoadBoard() and renderTrips() functions"
      contains: "var(--radius)"
  key_links:
    - from: "index.html renderLoadBoard()"
      to: "assets/css/design-system.css"
      via: "CSS token references"
      pattern: "var\\(--radius\\)|var\\(--text-sm\\)|var\\(--weight-semibold\\)"
    - from: "index.html renderTrips()"
      to: "assets/css/design-system.css"
      via: "CSS token references"
      pattern: "var\\(--radius\\)|var\\(--text-sm\\)|var\\(--weight-semibold\\)"
---

<objective>
Restyle the Load Board and Trips list pages to use mockup design system styling. Replace hardcoded font sizes, paddings, border radii, and font weights with design system CSS tokens while preserving all existing DOM structure and JavaScript behavior.

Purpose: Load Board and Trips are high-frequency dispatch pages. Consistent design system styling improves visual cohesion with the Dashboard and other restyled pages.

Output: Updated renderLoadBoard() and renderTrips() in index.html with design system tokens replacing inline style values.
</objective>

<execution_context>
@/Users/reepsy/.claude/get-shit-done/workflows/execute-plan.md
@/Users/reepsy/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/12-core-dispatch-pages/12-CONTEXT.md
@.planning/phases/12-core-dispatch-pages/12-RESEARCH.md
@mockups/web-tms-redesign/load-board.html
@mockups/web-tms-redesign/trips.html
@assets/css/design-system.css
@index.html (lines 14636-14700 for renderLoadBoard, lines 15453-15529 for renderTrips)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Restyle Load Board page (renderLoadBoard)</name>
  <files>index.html</files>
  <action>
  In renderLoadBoard() (starts at line 14636, ends at line ~14700), apply design system token substitutions. CRITICAL: Only change inline style values. Do NOT change JavaScript logic, data calculations, onclick handlers, or DOM structure.

  **1. Header (line ~14662):**
  - Keep as-is (already uses btn classes)

  **2. Stats row (lines ~14665-14669):**
  - Replace `padding:12px 16px` with `padding:var(--spacing-3) var(--spacing-4)` on stat cards
  - Replace `min-width:120px` and `min-width:140px` — keep as-is (these are layout constraints, not tokens)

  **3. Category tabs (lines ~14672-14677):**
  - Replace `padding:10px 16px` with `padding:var(--spacing-2-5) var(--spacing-4)`
  - Replace `border-radius:8px` with `border-radius:var(--radius)`
  - Replace `font-weight:600` with `font-weight:var(--weight-semibold)`
  - Keep dynamic border/background/color values (they reference cat.color which is already a CSS variable)

  **4. Subcategory tabs (lines ~14680-14686):**
  - Replace `padding:6px 12px` with `padding:var(--spacing-1-5) var(--spacing-3)`
  - Replace `border-radius:6px` with `border-radius:var(--radius)`
  - Replace `font-size:13px` with `font-size:var(--text-sm)`

  **5. Table card header (line ~14689):**
  - Replace `border-radius:8px 8px 0 0` with `border-radius:var(--radius) var(--radius) 0 0`

  **6. Empty state (line ~14690):**
  - Replace `padding:40px` with `padding:var(--spacing-10)`

  **7. Table rows (lines ~14691-14697):**
  - These already use .sticky-col class and .badge classes — confirm they're present
  - Replace `padding:8px 16px` on note row with `padding:var(--spacing-2) var(--spacing-4)`
  - Replace `font-size:13px` on note row with `font-size:var(--text-sm)`
  </action>
  <verify>
  1. Search for `var(--radius)` in renderLoadBoard section — should find multiple instances
  2. Search for `var(--text-sm)` in renderLoadBoard section — should find it
  3. Search for `var(--weight-semibold)` in renderLoadBoard section — should find it
  4. All onclick handlers preserved (selectedLoadCategory, selectedLoadSub, openLoadBoardOrder, openCreateNewLoad, openAssignToTrip, etc.)
  5. Category tabs still dynamically set colors based on cat.color
  </verify>
  <done>
  Load Board page uses design system tokens for all hardcoded spacing, typography, and border-radius values. All interactive behavior (category switching, vehicle actions) preserved.
  </done>
</task>

<task type="auto">
  <name>Task 2: Restyle Trips list page (renderTrips)</name>
  <files>index.html</files>
  <action>
  In renderTrips() (starts at line 15453, ends at line ~15529), apply design system token substitutions. CRITICAL: Only change inline style values. Do NOT change any JavaScript logic.

  **1. Header (line ~15523):**
  - Year selector wrapper: Replace `padding:8px 12px` with `padding:var(--spacing-2) var(--spacing-3)`, `border-radius:6px` with `border-radius:var(--radius)`, `font-size:13px` with `font-size:var(--text-sm)`
  - Year select: Replace `padding:6px 10px` with `padding:var(--spacing-1-5) var(--spacing-2-5)`, `border-radius:6px` with `border-radius:var(--radius)`, `font-size:14px` with `font-size:var(--text-sm)`

  **2. Status filter tabs (lines ~15516-15521):**
  - Replace `padding:8px 16px` with `padding:var(--spacing-2) var(--spacing-4)` in statusTabStyle function
  - Replace `border-radius:6px` with `border-radius:var(--radius)`
  - Replace `font-weight:600` with `font-weight:var(--weight-semibold)`
  - Replace `font-size:12px` on count badges with `font-size:var(--text-xs)`
  - Replace `border-radius:12px` on count badges with `border-radius:var(--radius-full)`
  - Replace `padding:2px 8px` on count badges with `padding:var(--spacing-0-5) var(--spacing-2)`

  **3. Truck tabs (line ~15494):**
  - Replace `padding:10px 16px` with `padding:var(--spacing-2-5) var(--spacing-4)`
  - Replace `border-radius:8px` with `border-radius:var(--radius)`
  - Replace `font-weight:600` with `font-weight:var(--weight-semibold)`
  - Replace `margin:4px` with `margin:var(--spacing-1)`
  - Replace `font-size:12px` on count badge with `font-size:var(--text-xs)`
  - Replace `border-radius:12px` on count badge with `border-radius:var(--radius-full)`
  - Replace `padding:2px 8px` on count badge with `padding:var(--spacing-0-5) var(--spacing-2)`

  **4. Truck info bar (line ~15526):**
  - Replace `padding:16px` with `padding:var(--spacing-4)`
  - Replace `font-size:18px` with `font-size:var(--text-lg)`
  - Replace `margin-left:12px` with `margin-left:var(--spacing-3)`

  **5. Trip table rows (line ~15506):**
  - Already use .sticky-col and .badge classes — no changes needed for these
  - Replace `padding:40px` on empty state with `padding:var(--spacing-10)`

  **6. Status tab gap and margin (lines ~15517):**
  - Replace `gap:8px` with `gap:var(--spacing-2)`, `margin-bottom:16px` with `margin-bottom:var(--spacing-4)`
  </action>
  <verify>
  1. Search for `var(--radius)` in renderTrips section — should find multiple instances
  2. Search for `var(--text-sm)` in renderTrips section — should find it
  3. Search for `var(--weight-semibold)` in renderTrips section — should find it
  4. All onclick handlers preserved (selectedTruckTab, tripStatusFilter, tripsYear, openTripModal, viewTrip, deleteTrip, markTripCompleted)
  5. Status filter tabs still dynamically toggle active/inactive styles
  6. Truck tabs still dynamically set blue/inactive colors
  </verify>
  <done>
  Trips list page uses design system tokens for all hardcoded spacing, typography, and border-radius values. All interactive behavior (truck tabs, status filters, year selector, trip actions) preserved.
  </done>
</task>

</tasks>

<verification>
1. renderLoadBoard still renders: header with buttons, stats row, category tabs, subcategory tabs, table with vehicles
2. renderTrips still renders: header with year selector, status tabs, truck tabs, truck info bar, trip table
3. Both pages still respond to all user interactions (tab switching, filtering, year changes)
4. Sticky action columns still sticky (class already applied, CSS from plan 12-01)
5. No hardcoded px values for font-size, padding, border-radius where tokens exist
</verification>

<success_criteria>
- Load Board uses design system tokens for all inline style values
- Trips list uses design system tokens for all inline style values
- Both pages render correctly in both light and dark themes
- All interactive elements fully functional
- Zero JavaScript logic changes
</success_criteria>

<output>
After completion, create `.planning/phases/12-core-dispatch-pages/12-03-SUMMARY.md`
</output>
