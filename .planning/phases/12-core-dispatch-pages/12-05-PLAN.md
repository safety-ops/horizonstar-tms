---
phase: 12-core-dispatch-pages
plan: 05
type: execute
wave: 2
depends_on: [12-01]
files_modified: [index.html]
autonomous: true

must_haves:
  truths:
    - "Orders list filter bar uses design system tokens for padding, border-radius, font-sizes"
    - "Orders list table uses design system tokens on empty state and note rows"
    - "Orders list year selector uses design system tokens matching Trips page pattern"
    - "All existing functionality preserved: search, filters, bulk select/delete, order actions, year filtering"
  artifacts:
    - path: "index.html"
      provides: "Restyled renderOrders() function"
      contains: "var(--radius)"
  key_links:
    - from: "index.html renderOrders()"
      to: "assets/css/design-system.css"
      via: "CSS token references"
      pattern: "var\\(--radius\\)|var\\(--text-sm\\)"
---

<objective>
Restyle the Orders list page (renderOrders function) to use mockup design system styling. Replace hardcoded font sizes, paddings, border radii with design system CSS tokens while preserving all existing DOM structure and JavaScript behavior.

Purpose: Orders is a high-frequency page for dispatchers. Consistent design system tokens ensure visual alignment with the other restyled dispatch pages.

Output: Updated renderOrders() in index.html with design system tokens replacing inline style values.
</objective>

<execution_context>
@/Users/reepsy/.claude/get-shit-done/workflows/execute-plan.md
@/Users/reepsy/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/12-core-dispatch-pages/12-CONTEXT.md
@.planning/phases/12-core-dispatch-pages/12-RESEARCH.md
@mockups/web-tms-redesign/orders.html
@assets/css/design-system.css
@index.html (lines 17567-17676 for renderOrders)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Restyle Orders list page (renderOrders)</name>
  <files>index.html</files>
  <action>
  In renderOrders() (starts at line 17567, ends at line ~17676), apply design system token substitutions. CRITICAL: Only change inline style values. Do NOT change JavaScript logic, data calculations, onclick handlers, filter logic, or DOM structure.

  **1. Header (line ~17651):**
  - Year selector wrapper: Replace `padding:8px 12px` with `padding:var(--spacing-2) var(--spacing-3)`, `border-radius:6px` with `border-radius:var(--radius)`, `font-size:13px` with `font-size:var(--text-sm)`, `font-weight:600` with `font-weight:var(--weight-semibold)`
  - Year select: Replace `padding:6px 10px` with `padding:var(--spacing-1-5) var(--spacing-2-5)`, `border-radius:6px` with `border-radius:var(--radius)`, `font-size:14px` with `font-size:var(--text-sm)`
  - Keep all button onclick handlers and badge classes exactly as-is

  **2. Search and Filters bar (lines ~17654-17662):**
  - Filter bar wrapper: Replace `gap:16px` with `gap:var(--spacing-4)`, `margin-bottom:20px` with `margin-bottom:var(--spacing-5)`, `padding:16px` with `padding:var(--spacing-4)`, `border-radius:8px` with `border-radius:var(--radius)`
  - Search input: Replace `padding:10px 14px` with `padding:var(--spacing-2-5) var(--spacing-3-5)`, `border-radius:6px` with `border-radius:var(--radius)`, `font-size:14px` with `font-size:var(--text-sm)`
  - Filter label styles: Replace `font-weight:600` with `font-weight:var(--weight-semibold)` on all filter labels
  - Filter selects: Replace `padding:8px 12px` with `padding:var(--spacing-2) var(--spacing-3)`, `border-radius:6px` with `border-radius:var(--radius)`, `font-size:14px` with `font-size:var(--text-sm)` on all filter dropdowns
  - Clear button: Replace `padding:8px 16px` with `padding:var(--spacing-2) var(--spacing-4)`
  - Results count: Replace `font-size:13px` with `font-size:var(--text-sm)`
  - Replace `min-width:200px` — keep as-is (layout constraint, not a token)

  **3. Table (lines ~17664-17675):**
  - Empty state: Replace `padding:40px` with `padding:var(--spacing-10)`
  - Note rows: Replace `padding:8px 16px` with `padding:var(--spacing-2) var(--spacing-4)`, `font-size:13px` with `font-size:var(--text-sm)`
  - Sticky-col is already applied — no changes needed
  - All badge classes (badge-blue, badge-green, badge-purple, getBadge()) are already correct — no changes needed
  - All action button styles — keep as-is (they use var() colors already)

  **4. Select-all checkbox header (line ~17664):**
  - Replace `width:40px` — keep as-is (layout constraint)

  IMPORTANT constraint from CONTEXT.md:
  - Do NOT restructure filters to match mockup's specific pattern — keep production's current filter DOM
  - Only restyle with design system tokens
  </action>
  <verify>
  1. Search for `var(--radius)` in renderOrders section — should find multiple instances
  2. Search for `var(--text-sm)` in renderOrders section — should find it on search, selects, and labels
  3. Search for `var(--spacing-4)` in renderOrders section — should find it on filter bar
  4. All onclick handlers preserved (ordersFilter updates, ordersYear change, openOrderModal, openOrderDetailPage, deleteOrder, openAssignToTrip, unassignOrderFromTrip, bulkDeleteOrders, toggleSelectAllOrders, toggleOrderSelection, exportOrders, openCreateNewLoad)
  5. debouncedOrderSearch still wired to search input oninput
  6. Checkbox select-all and individual checkboxes still functional
  </verify>
  <done>
  Orders list page uses design system tokens for all hardcoded spacing, typography, and border-radius values in the filter bar, search input, filter dropdowns, and table. All interactive behavior (search, filters, selection, actions) preserved.
  </done>
</task>

</tasks>

<verification>
1. renderOrders still renders: header with year/export/import/new buttons, search + 4 filter dropdowns + clear + count, table with checkboxes and all columns
2. Search filter still works with debounce
3. Status/dispatcher/driver/broker filters still work
4. Year selector still works
5. Bulk select/delete still works
6. Individual order actions (view, edit, delete, assign, unassign) still work
7. Note rows still render conditionally for orders with dispatcher_notes
8. No hardcoded px values for font-size, padding, border-radius where tokens exist
</verification>

<success_criteria>
- Orders list uses design system tokens for all inline style values
- Filter bar visually consistent with design system
- All interactive elements fully functional
- Zero JavaScript logic changes
</success_criteria>

<output>
After completion, create `.planning/phases/12-core-dispatch-pages/12-05-SUMMARY.md`
</output>
