---
phase: 07-core-dispatch-pages
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - mockups/web-tms-redesign/trips.html
autonomous: false

must_haves:
  truths:
    - "Trips page shows status filter tabs (Active, Completed, All) with counts"
    - "Truck tabs appear below status filters showing per-truck trip counts"
    - "Trip table shows trips for the selected truck with correct columns"
    - "Table rows have inline View action button in sticky right column"
    - "Status badges use correct colors (PLANNED=blue, IN_PROGRESS=amber, COMPLETED=green)"
    - "Light/dark theme toggle works and all elements render correctly in both themes"
  artifacts:
    - path: "mockups/web-tms-redesign/trips.html"
      provides: "Complete Trips list mockup with status filters, truck tabs, and trip table"
      min_lines: 200
  key_links:
    - from: "trips.html"
      to: "shared.css"
      via: "link rel stylesheet"
      pattern: 'href="./shared.css"'
    - from: "trips.html"
      to: "base-template.html"
      via: "copied app shell (sidebar + header + page-content)"
      pattern: "class=\"app-layout\""
---

<objective>
Create the Trips list mockup page with status filter tabs, truck tabs, and trip data table.

Purpose: The Trips page shows all trips grouped by truck, filtered by status. Dispatchers use it to track trip progress and drill down to individual trip details. This mockup reproduces the exact filter/tab/table structure from production.

Output: `mockups/web-tms-redesign/trips.html` — a complete, standalone HTML file with status filters, truck tabs, and a trip data table with realistic sample data.
</objective>

<execution_context>
@/Users/reepsy/.claude/get-shit-done/workflows/execute-plan.md
@/Users/reepsy/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/07-core-dispatch-pages/07-CONTEXT.md
@.planning/phases/07-core-dispatch-pages/07-RESEARCH.md
@mockups/web-tms-redesign/shared.css
@mockups/web-tms-redesign/base-template.html
@mockups/web-tms-redesign/component-showcase.html
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create trips.html with status filters, truck tabs, and trip table</name>
  <files>mockups/web-tms-redesign/trips.html</files>
  <action>
Create `trips.html` by copying the app shell from `base-template.html`. Set page title to "Horizon Star TMS — Trips", header title to "Trips", and mark the Trips nav item as `active`.

Inside `<div class="page-content">`, build these sections:

**Section 1: Page Header Row**
A flex row with:
- Left: "Trips" heading (already in header bar, so this section is the action row)
- Right: "New Trip" primary button with plus icon

**Section 2: Status Filter Tabs**
3 status filter buttons in a flex row with 8px gap:
- **Active** — ACTIVE (primary/solid style) — count badge: 23
- **Completed** — secondary/outline style — count badge: 47
- **All** — secondary/outline style — count badge: 70

Active tab: `.btn.btn-primary` with white count badge (`background: rgba(255,255,255,0.2)`)
Inactive tabs: `.btn.btn-secondary` with subtle count badge

**Section 3: Truck Tabs**
Truck selection tabs in a flex-wrap row with 8px gap. Truck 77 is the active/selected truck.
- **Truck 77** — ACTIVE (primary style) — count: 12
- **Truck 88** — secondary — count: 9
- **Truck 55** — secondary — count: 8
- **Truck 42** — secondary — count: 5
- **Truck 63** — secondary — count: 3

Same active/inactive styling as status tabs but slightly smaller (use `font-size: var(--text-sm)`).

**Section 4: Trip Table (for Truck 77)**
Card with header "Truck 77 — Active Trips" and trip count badge.

Table columns (matching production `renderTrips()`):
Trip # | Driver | Start Date | End Date | Status | Vehicles | Revenue | Expenses | Profit | Margin | Actions (sticky-col)

7 rows of realistic trip data for Truck 77:
1. TRIP 3 - 77 - 2025 / John Smith / 2025-01-10 / 2025-01-15 / COMPLETED (badge-green) / 12 / $8,450.00 / $2,680.00 / $3,250.00 / 38.5% / View icon
2. TRIP 7 - 77 - 2025 / John Smith / 2025-01-16 / — / IN_PROGRESS (badge-amber) / 8 / $5,920.00 / $1,450.00 / $2,105.50 / 35.6% / View icon
3. TRIP 11 - 77 - 2025 / John Smith / 2025-01-22 / — / PLANNED (badge-blue) / 0 / $0.00 / $0.00 / $0.00 / — / View icon
4. TRIP 2 - 77 - 2025 / John Smith / 2025-01-03 / 2025-01-08 / COMPLETED (badge-green) / 10 / $7,340.00 / $2,310.00 / $2,678.50 / 36.5% / View icon
5. TRIP 6 - 77 - 2024 / John Smith / 2024-12-28 / 2025-01-02 / COMPLETED (badge-green) / 14 / $9,875.00 / $3,120.00 / $4,010.50 / 40.6% / View icon
6. TRIP 1 - 77 - 2024 / John Smith / 2024-12-15 / 2024-12-22 / COMPLETED (badge-green) / 11 / $8,125.00 / $2,890.00 / $2,715.00 / 33.4% / View icon
7. TRIP 5 - 77 - 2024 / John Smith / 2024-12-01 / 2024-12-10 / COMPLETED (badge-green) / 9 / $6,780.00 / $2,230.00 / $2,025.00 / 29.9% / View icon

Column formatting:
- Trip #: `.font-mono`
- Revenue, Expenses, Profit: `.mono.text-right` (right-aligned, monospaced)
- Margin: `.text-right` with percentage
- End Date: show "—" for in-progress/planned trips
- Vehicles count: center-aligned integer
- Actions: `.sticky-col` with view (eye) icon button

**Section 5: Totals Summary Row**
Below the table, inside the same card, add a summary row:
- Total Trips: 7
- Total Vehicles: 64
- Total Revenue: $46,490.00
- Total Expenses: $14,680.00
- Total Profit: $16,784.50
- Avg Margin: 36.1%

Use a flex row with evenly spaced items, slightly larger font for values, monospaced for dollar amounts.

**Spacing:** 16px between status tabs and truck tabs, 16px between truck tabs and table card, 24px total section margins.
  </action>
  <verify>
Open `mockups/web-tms-redesign/trips.html` in a browser. Verify:
1. Page loads without errors
2. Status filter tabs show Active (active), Completed, All with counts
3. Truck tabs show 5 trucks with Truck 77 active
4. Trip table shows 7 rows with realistic data
5. Status badges use correct colors (COMPLETED=green, IN_PROGRESS=amber, PLANNED=blue)
6. Dollar amounts are right-aligned and monospaced
7. Totals summary row is visible below the table
8. Action buttons in sticky right column
9. Theme toggle works
10. Sidebar collapses/expands
  </verify>
  <done>trips.html exists with status filter tabs, truck tabs, 7-row trip table with financials, and totals summary, using shared.css classes exclusively</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Complete Trips list mockup with 3 status filter tabs (Active selected), 5 truck tabs (Truck 77 selected), 7-row trip data table with financials and status badges, and a totals summary row.</what-built>
  <how-to-verify>
1. Open `mockups/web-tms-redesign/trips.html` in your browser
2. Verify status filter tabs show Active/Completed/All with count badges
3. Verify truck tabs show Truck 77 (active), 88, 55, 42, 63
4. Check trip table columns: Trip #, Driver, Dates, Status, Vehicles, Revenue, Expenses, Profit, Margin, Actions
5. Verify 7 rows of realistic trip data with correct status badges
6. Check totals summary row below the table
7. Toggle dark/light theme — both should look clean
8. Confirm layout matches your current Trips page structure
  </how-to-verify>
  <resume-signal>Type "approved" or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
- [ ] trips.html loads in browser without console errors
- [ ] Status filter tabs present with counts
- [ ] Truck tabs present with per-truck trip counts
- [ ] Trip table has 7 rows with realistic data
- [ ] Status badges use correct colors
- [ ] Dollar amounts are monospaced and right-aligned
- [ ] Totals summary row present
- [ ] shared.css is the only stylesheet
- [ ] Theme toggle works
- [ ] Sidebar toggle works
</verification>

<success_criteria>
Trips mockup faithfully reproduces the production Trips page with status filters, truck tabs, trip table, and totals summary, reskinned with Phase 6 design system, with realistic data and working theme toggle.
</success_criteria>

<output>
After completion, create `.planning/phases/07-core-dispatch-pages/07-03-SUMMARY.md`
</output>
