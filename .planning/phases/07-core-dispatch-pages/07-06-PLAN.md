---
phase: 07-core-dispatch-pages
plan: 06
type: execute
wave: 1
depends_on: []
files_modified:
  - mockups/web-tms-redesign/order-detail.html
autonomous: false

must_haves:
  truths:
    - "Order Detail shows back button and vehicle title (e.g., 2024 Toyota Camry)"
    - "Order Info card displays Order #, VIN, Color, Broker, Payment Type, Payment Status"
    - "Route card shows Origin and Destination with pickup/delivery dates"
    - "Payment Details card shows Revenue, Broker Fee, Local Fee, Payment Type explanation"
    - "Timeline section shows order lifecycle events (created, assigned, picked up, delivered)"
    - "Inspection Photos section shows placeholder areas for pickup and delivery photos"
    - "Light/dark theme toggle works and all elements render correctly in both themes"
  artifacts:
    - path: "mockups/web-tms-redesign/order-detail.html"
      provides: "Complete Order Detail mockup with vehicle info, route, payments, photos, timeline"
      min_lines: 200
  key_links:
    - from: "order-detail.html"
      to: "shared.css"
      via: "link rel stylesheet"
      pattern: 'href="./shared.css"'
    - from: "order-detail.html"
      to: "base-template.html"
      via: "copied app shell (sidebar + header + page-content)"
      pattern: "class=\"app-layout\""
---

<objective>
Create the Order Detail mockup page with vehicle info, route card, payment details, inspection photos, and timeline.

Purpose: The Order Detail page is the drill-down view for a single vehicle order, showing complete information about the vehicle, route, payments, and lifecycle. This mockup reproduces the exact layout from the production `openOrderDetailPage()` function.

Output: `mockups/web-tms-redesign/order-detail.html` — a complete, standalone HTML file showing the detail view for a single order with all production sections.
</objective>

<execution_context>
@/Users/reepsy/.claude/get-shit-done/workflows/execute-plan.md
@/Users/reepsy/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/07-core-dispatch-pages/07-CONTEXT.md
@.planning/phases/07-core-dispatch-pages/07-RESEARCH.md
@mockups/web-tms-redesign/shared.css
@mockups/web-tms-redesign/base-template.html
@mockups/web-tms-redesign/component-showcase.html
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create order-detail.html with vehicle info, route, payments, photos, and timeline</name>
  <files>mockups/web-tms-redesign/order-detail.html</files>
  <action>
Create `order-detail.html` by copying the app shell from `base-template.html`. Set page title to "Horizon Star TMS — Order Detail", header title to "Order Detail". Remove `active` class from Dashboard nav item (or keep Load Board as active if that makes sense contextually).

Inside `<div class="page-content">`, build these sections matching the production `openOrderDetailPage()` function:

**Section 1: Back Button + Vehicle Title**
- "Back to Orders" link/button with left arrow icon (lucide arrow-left)
- Title: "2024 Toyota Camry" (large, bold)
- Subtitle: "Order ORD-2024-001 — Central Dispatch"
- Status badge: DELIVERED (badge-green)
- Use flex row with title on left, status on right

**Section 2: Order Info Card**
Card with header "Order Information".
2-column grid layout (or responsive auto-fit) showing key-value pairs:
- **Order #:** ORD-2024-001 (font-mono)
- **VIN:** 1HGBH41JXMN109186 (font-mono)
- **Color:** Black
- **Year/Make/Model:** 2024 Toyota Camry
- **Broker:** Central Dispatch
- **Dispatcher:** Maria Garcia
- **Driver:** John Smith
- **Truck:** 77
- **Trip:** TRIP 3 - 77 - 2025 (font-mono, link style)
- **Payment Type:** COD (badge-green)
- **Payment Status:** Collected (badge-green)
- **Condition:** Running

Each pair: label (text-secondary, text-xs, uppercase, font-weight 600) on top, value (text-primary, regular or mono) below. Use `display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 16px; padding: 16px;`

**Section 3: Route Card**
Card with header "Route Details".
2-column layout:
- **Left column — Origin:**
  - City: Miami, FL
  - Contact: "John's Auto Sales"
  - Phone: (305) 555-0147 (clickable link style, blue)
  - Address: "1234 NW 7th Ave, Miami, FL 33136"
  - Pickup Date: Jan 20, 2025
  - Map link icon (lucide map-pin, styled as clickable)

- **Right column — Destination:**
  - City: New York, NY
  - Contact: "East Coast Motors"
  - Phone: (212) 555-0283 (clickable link style, green)
  - Address: "567 W 42nd St, New York, NY 10036"
  - Delivery Date: Jan 22, 2025
  - Map link icon

- **Bottom row (spanning full width):**
  - Estimated Distance: 1,280 miles
  - Estimated Transit: 2 days
  - ETA calculation: "On schedule" (badge-green) or show actual delivery date

Use a divider or visual arrow between origin and destination columns to show directionality.

**Section 4: Payment Details Card**
Card with header "Payment Details".
Grid or table layout:
- **Revenue:** $1,150.00 (green, large)
- **Broker Fee:** -$75.00 (red)
- **Local Fee:** -$25.00 (red)
- **Clean Revenue:** $1,050.00 (blue)
- **Driver Cut (32%):** -$336.00 (amber)
- **Net Profit:** $714.00 (green, bold)

Additional info row:
- Payment Type: COD — "Cash on Delivery: Collect $1,150.00 from consignee at delivery"
- Payment Status: Collected on Jan 22, 2025
- Collected By: John Smith

Use monospaced formatting for all dollar amounts. Green/red coloring for revenue/fees.

**Section 5: Inspection Photos**
Card with header "Inspection Photos".
Two sub-sections:
- **Pickup Inspection** — "Completed Jan 20, 2025"
  - Grid of 4 placeholder photo boxes (gray background with camera icon, labeled "Front", "Rear", "Left Side", "Right Side")
  - Each placeholder: `width: 100%; aspect-ratio: 4/3; background: var(--bg-secondary); border-radius: 8px; display: flex; align-items: center; justify-content: center;` with lucide camera icon in text-muted
  - Note text: "No damage noted at pickup"

- **Delivery Inspection** — "Completed Jan 22, 2025"
  - Same 4 placeholder boxes
  - Note text: "Minor dirt, cleaned before handoff"

Use `grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); gap: 12px;` for photo grid.

**Section 6: Order Timeline**
Card with header "Timeline".
Vertical timeline with colored dots and connecting lines:
1. **Order Created** — Jan 18, 2025 at 2:30 PM — "Order created by Maria Garcia via Central Dispatch import" — dot: gray
2. **Assigned to Trip** — Jan 19, 2025 at 9:15 AM — "Assigned to TRIP 3 - 77 - 2025 by Maria Garcia" — dot: blue
3. **Pickup Completed** — Jan 20, 2025 at 11:45 AM — "Picked up from Miami, FL — Inspection completed, no damage" — dot: amber
4. **In Transit** — Jan 20, 2025 at 12:00 PM — "Departed Miami, FL en route to New York, NY" — dot: blue
5. **Delivery Completed** — Jan 22, 2025 at 3:20 PM — "Delivered to New York, NY — COD payment collected: $1,150.00" — dot: green

Timeline styling:
- Vertical line: `border-left: 2px solid var(--border); margin-left: 12px; padding-left: 24px;`
- Each event: colored dot (12px circle) positioned on the line, date (text-muted, text-xs), description (text-primary)
- Latest event at top, oldest at bottom
- Dot colors: Use inline style `background: var(--green)`, `var(--blue)`, `var(--amber)`, `var(--text-muted)` for gray

**Spacing:** 24px between each major section.
  </action>
  <verify>
Open `mockups/web-tms-redesign/order-detail.html` in a browser. Verify:
1. Page loads without errors
2. Back button and vehicle title "2024 Toyota Camry" visible
3. Order Info card shows all key-value pairs
4. Route card shows Origin (Miami) and Destination (New York)
5. Payment Details card shows revenue, fees, and profit
6. Inspection Photos section shows 8 placeholder photo boxes (4 pickup + 4 delivery)
7. Timeline shows 5 events with colored dots and connecting line
8. Theme toggle works
9. All dollar amounts monospaced
  </verify>
  <done>order-detail.html exists with vehicle info, route, payment details, inspection photo placeholders, and timeline, using shared.css classes exclusively with realistic data</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Complete Order Detail mockup for "2024 Toyota Camry" (ORD-2024-001) with Order Info card (12 key-value fields), Route card (Miami to New York with contacts), Payment Details (revenue/fees/profit breakdown), Inspection Photos (8 placeholder boxes for pickup/delivery), and a 5-event vertical timeline.</what-built>
  <how-to-verify>
1. Open `mockups/web-tms-redesign/order-detail.html` in your browser
2. Verify back button and "2024 Toyota Camry" title with DELIVERED badge
3. Check Order Info: Order #, VIN, Color, Broker, Dispatcher, Driver, Truck, Trip, Pay Type, Payment Status, Condition
4. Check Route: Miami FL (origin) to New York NY (destination) with contacts, phones, dates
5. Check Payment Details: Revenue $1,150, Broker Fee -$75, Local Fee -$25, Driver Cut, Net Profit
6. Check Inspection Photos: 4 pickup + 4 delivery placeholders
7. Check Timeline: 5 events from "Order Created" to "Delivery Completed" with colored dots
8. Toggle dark/light theme — all sections should look clean in both
9. Confirm layout matches your current Order Detail page structure
  </how-to-verify>
  <resume-signal>Type "approved" or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
- [ ] order-detail.html loads in browser without console errors
- [ ] Back button and vehicle title present
- [ ] Order Info card shows all key-value fields
- [ ] Route card shows origin and destination with details
- [ ] Payment Details card shows financial breakdown
- [ ] Inspection Photos section shows placeholder boxes
- [ ] Timeline shows 5 events with colored dots
- [ ] shared.css is the only stylesheet
- [ ] Theme toggle works
- [ ] All dollar amounts monospaced
</verification>

<success_criteria>
Order Detail mockup faithfully reproduces the production Order Detail view with vehicle info, route, payments, inspection photos, and timeline, reskinned with Phase 6 design system, with realistic data and working theme toggle.
</success_criteria>

<output>
After completion, create `.planning/phases/07-core-dispatch-pages/07-06-SUMMARY.md`
</output>
