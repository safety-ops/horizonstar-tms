---
phase: 06-design-system-foundation
plan: 02
type: execute
wave: 2
depends_on: ["06-01"]
files_modified:
  - mockups/web-tms-redesign/shared.css
  - mockups/web-tms-redesign/component-showcase.html
autonomous: false

must_haves:
  truths:
    - "Button variants (primary, secondary, small, icon-only) render correctly in both themes"
    - "Card, stat-card, and hero-card components render with proper styling and hover states"
    - "Badge variants (green, amber, blue, red, gray) render in both themes"
    - "Data table renders with header styling, row hover, and alternating rows"
    - "Form inputs, selects, and textareas render with focus states and error states"
    - "Modal renders with overlay, header, body, footer, and close button"
    - "Component showcase page displays all components organized by category"
  artifacts:
    - path: "mockups/web-tms-redesign/shared.css"
      provides: "Complete design system including UI components"
      min_lines: 800
    - path: "mockups/web-tms-redesign/component-showcase.html"
      provides: "Living documentation of all design system components"
      min_lines: 300
  key_links:
    - from: "component-showcase.html"
      to: "shared.css"
      via: "link rel=stylesheet"
      pattern: "shared\\.css"
    - from: "component-showcase.html"
      to: "base-template.html"
      via: "same app shell structure (sidebar, header)"
      pattern: "app-layout"
    - from: "shared.css UI components"
      to: "shared.css design tokens"
      via: "CSS variable references"
      pattern: "var\\(--"
---

<objective>
Add all reusable UI components (buttons, cards, badges, tables, forms, modals) to the shared CSS design system, then create a component showcase HTML page that documents every component in both dark and light themes.

Purpose: This completes the design system. The component showcase becomes the reference page for building all 22 mockups in Phases 7-10. Any designer or developer can open it to see every available component.

Output:
- `mockups/web-tms-redesign/shared.css` — Extended with UI COMPONENTS, UTILITY CLASSES, and ICON SYSTEM sections
- `mockups/web-tms-redesign/component-showcase.html` — Living documentation page
</objective>

<execution_context>
@/Users/reepsy/.claude/get-shit-done/workflows/execute-plan.md
@/Users/reepsy/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/06-design-system-foundation/06-RESEARCH.md
@.planning/phases/06-design-system-foundation/06-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add UI components, utilities, and icon system to shared.css</name>
  <files>mockups/web-tms-redesign/shared.css</files>
  <action>
Append three new sections to the existing shared.css (after the LAYOUT COMPONENTS section created in Plan 01):

**Section 4: UI COMPONENTS** (`/* ===== UI COMPONENTS ===== */`)

Buttons:
- `.btn`: base button style — display inline-flex, align-items center, justify-content center, gap 8px, padding 10px 20px, border-radius var(--radius), font-size var(--text-sm), font-weight var(--weight-semibold), cursor pointer, border none, transition all var(--transition-fast) var(--ease-smooth), font-family inherit, line-height 1
- `.btn-primary`: background var(--green), color white. Hover: filter brightness(1.1), transform translateY(-1px). Active: transform translateY(0)
- `.btn-secondary`: background transparent, color var(--text-primary), border 1px solid var(--border). Hover: background var(--bg-card-hover), border-color var(--text-muted)
- `.btn-danger`: background var(--red), color white. Hover: filter brightness(1.1)
- `.btn-ghost`: background transparent, color var(--text-secondary), padding 8px 12px. Hover: background var(--bg-card-hover), color var(--text-primary)
- `.btn-sm`: padding 6px 12px, font-size var(--text-xs)
- `.btn-lg`: padding 14px 28px, font-size var(--text-base)
- `.btn-icon`: width 36px, height 36px, padding 0, border-radius var(--radius-sm), background var(--bg-card-hover), border 1px solid var(--border), color var(--text-secondary). Hover: color var(--text-primary), border-color var(--text-muted)

Cards:
- `.card`: background var(--bg-card), border 1px solid var(--border), border-radius var(--radius-lg), padding 20px, box-shadow var(--shadow-card), transition all var(--transition-base) var(--ease-smooth)
- `.card:hover` (optional, add `.card-hover` class): box-shadow var(--shadow-card-hover), transform translateY(-2px)
- `.card-header`: display flex, align-items center, justify-content space-between, margin-bottom 16px
- `.card-title`: font-size var(--text-lg), font-weight var(--weight-bold), color var(--text-primary)
- `.card-subtitle`: font-size var(--text-sm), color var(--text-secondary), margin-top 2px
- `.stat-card`: extends .card concept — display flex, flex-direction column, gap 8px. `.stat-card .stat-icon`: width 44px, height 44px, border-radius var(--radius), display flex, align-items center, justify-content center, font-size 20px. Color variants: `.stat-icon.green` bg var(--green-dim) color var(--green), `.stat-icon.blue` bg var(--blue-dim) color var(--blue), `.stat-icon.amber` bg var(--amber-dim) color var(--amber), `.stat-icon.red` bg var(--red-dim) color var(--red), `.stat-icon.purple` bg var(--purple-dim) color var(--purple). `.stat-card .stat-value`: font-size var(--text-2xl), font-weight var(--weight-heavy), color var(--text-primary), font-family var(--font-mono). `.stat-card .stat-label`: font-size var(--text-xs), color var(--text-muted), text-transform uppercase, letter-spacing 0.5px
- `.hero-card`: background with gradient overlay using brand color at 12% opacity. Same padding/radius as .card but with colored left border (3px solid).

Badges:
- `.badge`: display inline-flex, align-items center, gap 4px, padding 3px 10px, border-radius 12px, font-size var(--text-xs), font-weight var(--weight-semibold), text-transform uppercase, letter-spacing 0.5px, line-height 1.4
- `.badge-green`: background var(--green-dim), color var(--green)
- `.badge-amber`: background var(--amber-dim), color var(--amber)
- `.badge-blue`: background var(--blue-dim), color var(--blue)
- `.badge-red`: background var(--red-dim), color var(--red)
- `.badge-purple`: background var(--purple-dim), color var(--purple)
- `.badge-gray`: background var(--bg-elevated), color var(--text-muted)
- `.badge-outline`: background transparent, border 1px solid currentColor (works with any color variant)

Tables:
- `.table-container`: overflow-x auto, border-radius var(--radius-lg), border 1px solid var(--border)
- `.table`: width 100%, border-collapse collapse, font-size var(--text-sm)
- `.table thead`: background var(--bg-elevated)
- `.table th`: padding 12px 16px, text-align left, font-weight var(--weight-semibold), color var(--text-secondary), font-size var(--text-xs), text-transform uppercase, letter-spacing 0.5px, border-bottom 1px solid var(--border)
- `.table td`: padding 12px 16px, color var(--text-primary), border-bottom 1px solid var(--border)
- `.table tbody tr:hover`: background var(--bg-card-hover)
- `.table tbody tr:last-child td`: border-bottom none
- `.table .mono`: font-family var(--font-mono), font-weight var(--weight-semibold) (for currency/numbers)

Forms:
- `.form-group`: margin-bottom 20px
- `.form-group label`: display block, font-size var(--text-xs), font-weight var(--weight-semibold), color var(--text-secondary), margin-bottom 6px, text-transform uppercase, letter-spacing 0.5px
- `.form-input` (applies to input, select, textarea within .form-group): width 100%, padding 10px 14px, background var(--bg-app), border 1px solid var(--border), border-radius var(--radius), color var(--text-primary), font-size var(--text-sm), font-family inherit, transition all var(--transition-fast)
- Focus state: outline none, border-color var(--green), box-shadow 0 0 0 3px var(--green-dim)
- Error state: `.form-input.error` border-color var(--red), box-shadow 0 0 0 3px var(--red-dim). `.form-error`: font-size var(--text-xs), color var(--red), margin-top 4px
- `.form-row`: display grid, grid-template-columns 1fr 1fr, gap 16px. On mobile: single column
- `textarea.form-input`: min-height 100px, resize vertical
- `select.form-input`: appearance none, background-image for dropdown chevron

Modals:
- `.modal-overlay`: position fixed, inset 0, background rgba(0,0,0,0.6), backdrop-filter blur(4px), z-index 1000, display flex, align-items center, justify-content center, opacity 0, pointer-events none, transition opacity var(--transition-base)
- `.modal-overlay.active`: opacity 1, pointer-events auto
- `.modal`: background var(--bg-card), border 1px solid var(--border), border-radius var(--radius-xl), width 100%, max-width 600px, max-height 90vh, overflow hidden, display flex, flex-direction column, box-shadow 0 24px 48px rgba(0,0,0,0.3), transform scale(0.95), transition transform var(--transition-base) var(--ease-smooth)
- `.modal-overlay.active .modal`: transform scale(1)
- `.modal-header`: padding 20px 24px, border-bottom 1px solid var(--border), display flex, align-items center, justify-content space-between
- `.modal-title`: font-size var(--text-lg), font-weight var(--weight-bold)
- `.modal-close`: btn-icon style, cursor pointer
- `.modal-body`: padding 24px, overflow-y auto, flex 1
- `.modal-footer`: padding 16px 24px, border-top 1px solid var(--border), display flex, justify-content flex-end, gap 8px

**Section 5: UTILITY CLASSES** (`/* ===== UTILITY CLASSES ===== */`)

Spacing (generate for values 1-8 corresponding to --space-1 through --space-8):
- `.m-{n}`, `.mt-{n}`, `.mb-{n}`, `.ml-{n}`, `.mr-{n}`, `.mx-{n}`, `.my-{n}`
- `.p-{n}`, `.pt-{n}`, `.pb-{n}`, `.pl-{n}`, `.pr-{n}`, `.px-{n}`, `.py-{n}`
- `.gap-{n}`

Display/layout:
- `.flex` display flex, `.inline-flex` display inline-flex
- `.grid` display grid
- `.hidden` display none
- `.items-center` align-items center
- `.items-start` align-items flex-start
- `.items-end` align-items flex-end
- `.justify-between` justify-content space-between
- `.justify-center` justify-content center
- `.justify-end` justify-content flex-end
- `.flex-col` flex-direction column
- `.flex-wrap` flex-wrap wrap
- `.flex-1` flex 1
- `.w-full` width 100%
- `.text-center` text-align center, `.text-right` text-align right

Typography utilities:
- `.text-primary` color var(--text-primary)
- `.text-secondary` color var(--text-secondary)
- `.text-muted` color var(--text-muted)
- `.text-success` color var(--green)
- `.text-warning` color var(--amber)
- `.text-danger` color var(--red)
- `.text-info` color var(--blue)
- `.font-bold` font-weight var(--weight-bold)
- `.font-semibold` font-weight var(--weight-semibold)
- `.font-medium` font-weight var(--weight-medium)
- `.font-mono` font-family var(--font-mono)
- `.truncate` overflow hidden, text-overflow ellipsis, white-space nowrap

Color backgrounds:
- `.bg-green-dim` background var(--green-dim)
- `.bg-blue-dim` background var(--blue-dim)
- `.bg-amber-dim` background var(--amber-dim)
- `.bg-red-dim` background var(--red-dim)
- `.bg-purple-dim` background var(--purple-dim)

**Section 6: ICON SYSTEM** (`/* ===== ICON SYSTEM ===== */`)

Lucide icon sizing:
- `[data-lucide]`: display inline-block, vertical-align middle, color var(--icon-default)
- `.ico`: width 18px, height 18px
- `.ico-sm`: width 15px, height 15px
- `.ico-lg`: width 22px, height 22px
- `.ico-xl`: width 28px, height 28px
- Color overrides: `.ico-green` color var(--green), `.ico-blue` color var(--blue), `.ico-amber` color var(--amber), `.ico-red` color var(--red), `.ico-purple` color var(--purple)
  </action>
  <verify>
- `wc -l mockups/web-tms-redesign/shared.css` should show 800+ lines
- grep for all section headers: "UI COMPONENTS", "UTILITY CLASSES", "ICON SYSTEM"
- grep for component classes: `.btn-primary`, `.card`, `.stat-card`, `.badge-green`, `.table`, `.form-group`, `.modal-overlay`
- grep for utility classes: `.flex`, `.text-primary`, `.m-1`, `.gap-1`
- grep for icon classes: `.ico`, `.ico-sm`, `.ico-lg`
- All CSS values should use `var(--` tokens (no hardcoded hex values in component section)
  </verify>
  <done>
shared.css now contains the complete design system:
- 4 button variants (primary, secondary, danger, ghost) + 3 sizes (sm, default, lg) + icon button
- 3 card types (card, stat-card, hero-card) with 5 color variants for stat icons
- 6 badge colors (green, amber, blue, red, purple, gray) + outline variant
- Table component with hover rows, header styling, mono class for numbers
- Form components with labels, inputs, selects, textareas, focus/error states, form-row grid
- Modal with overlay, header/body/footer, scale animation, backdrop blur
- Comprehensive utility classes for spacing, layout, typography, and colors
- Icon sizing system matching Lucide CDN
  </done>
</task>

<task type="auto">
  <name>Task 2: Create component-showcase.html documenting all components</name>
  <files>mockups/web-tms-redesign/component-showcase.html</files>
  <action>
Create `mockups/web-tms-redesign/component-showcase.html` using the same app shell structure as base-template.html (sidebar, header, theme toggle) but with the main content area showing every component from the design system, organized by category.

The page should use the sidebar and header from Plan 01. The "Component Showcase" should be the active nav concept (doesn't need to be in the actual nav; the header title should say "Component Showcase").

Page content sections (each in its own `.card` container with a title):

**1. Color Tokens**
- Grid of color swatches showing: all brand colors (green, blue, amber, red, purple) + their dim variants
- Background colors: bg-app, bg-card, bg-card-hover, bg-elevated
- Text colors: text-primary, text-secondary, text-muted
- Each swatch: 60x60px circle with the color, label below

**2. Typography**
- Show heading scale: h1 through h6 with sample text and size label
- Body text paragraph
- Monospaced text example (for currency)
- Text utility classes demo: text-primary, text-secondary, text-muted, text-success, text-warning, text-danger

**3. Buttons**
- Row of: btn-primary, btn-secondary, btn-danger, btn-ghost
- Row of sizes: btn-sm, default, btn-lg
- btn-icon examples with Lucide icons
- Disabled state examples

**4. Cards**
- Standard `.card` with title and body text
- Row of `.stat-card` examples (4 cards: green, blue, amber, red with different stat values like "$142,500", "47 Active", "12 Pending", "3 Overdue")
- `.hero-card` example with colored border

**5. Badges**
- All badge variants in a row: badge-green "Active", badge-amber "Pending", badge-blue "In Transit", badge-red "Overdue", badge-purple "VIP", badge-gray "Archived"
- Outline variant examples

**6. Tables**
- Sample data table with 5-6 rows showing: Order #, Route, Driver, Status (badge), Amount (mono), Date
- Use realistic TMS data (e.g., "ORD-2024-001", "Miami, FL → Atlanta, GA", "John Smith", badge-green "Delivered", "$1,250.00")
- Show hover states

**7. Forms**
- Sample form with: text input, email input, select dropdown, textarea
- `.form-row` with two side-by-side fields
- Show focus state styling (one input pre-focused look)
- Show error state example

**8. Modals**
- A "Show Modal" button that opens a demo modal
- Modal has: title, body with form content, footer with Cancel + Save buttons
- Working close (X button, overlay click, Escape key)

JavaScript at bottom:
- Lucide icons initialization
- Theme toggle (same as base-template)
- Sidebar collapse/expand (same as base-template)
- Mobile responsive (same as base-template)
- Modal open/close logic
- Escape key to close modal

The showcase should look polished -- it IS the design reference for the entire mockup project.
  </action>
  <verify>
- `ls -la mockups/web-tms-redesign/component-showcase.html` (file exists, >300 lines)
- Open in browser: all 8 component sections visible with correct styling
- Theme toggle: all components transition smoothly between dark and light
- Stat cards show colored icons (green, blue, amber, red)
- Table shows realistic TMS data with badges and mono-formatted amounts
- Badges show all 6 color variants
- "Show Modal" button opens working modal that can be closed
- Forms show proper focus/error state styling
- Sidebar is functional (collapse, mobile overlay)
  </verify>
  <done>
component-showcase.html is a living reference page that:
- Documents every design system component organized in 8 sections
- Shows color tokens, typography scale, buttons, cards, badges, tables, forms, and modals
- Uses realistic TMS data (order numbers, routes, amounts)
- Works in both dark and light themes
- Has functional modal demo with open/close
- Uses the same app shell (sidebar + header) as all future mockups
- Serves as the single source of truth for component usage during Phases 7-10
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 3: Visual verification of complete design system</name>
  <what-built>
Complete design system foundation for the Web TMS redesign:
1. shared.css — Full CSS design system with iOS v3 color tokens, typography, layout components (sidebar, header), UI components (buttons, cards, badges, tables, forms, modals), utilities, and icon system
2. base-template.html — Working app shell with sidebar (28 nav items), header, and theme toggle
3. component-showcase.html — Living documentation page showing every component
  </what-built>
  <how-to-verify>
1. Open `mockups/web-tms-redesign/base-template.html` in Chrome:
   - Verify dark theme loads by default (very dark background)
   - Verify sidebar shows all 28 navigation items in 7 labeled sections
   - Click theme toggle (moon icon) — page should smoothly transition to light theme
   - Reload page — theme should persist (still light)
   - Click sidebar collapse button — sidebar shrinks to icons only
   - Resize browser to mobile width (~375px) — sidebar should hide, hamburger should appear

2. Open `mockups/web-tms-redesign/component-showcase.html` in Chrome:
   - Verify all 8 component sections are visible and properly styled
   - Check color swatches match expected iOS v3 colors (green #22c55e, etc.)
   - Verify stat cards have colored icon backgrounds
   - Verify table has hover effect on rows
   - Click "Show Modal" — verify modal opens with overlay and animation
   - Close modal via X, overlay click, and Escape key
   - Toggle dark/light theme — verify ALL components look correct in both themes
   - Check that badges, buttons, and cards all use the correct brand colors

3. Cross-check: Do the colors, spacing, and typography feel consistent with the iOS v3 driver app mockup at `mockups/ui_concept_4_driver_app_v3.html`?
  </how-to-verify>
  <resume-signal>Type "approved" if both pages look correct in dark and light themes, or describe specific issues to fix</resume-signal>
</task>

</tasks>

<verification>
1. `mockups/web-tms-redesign/shared.css` is 800+ lines with all 6 sections
2. `mockups/web-tms-redesign/base-template.html` renders complete app shell
3. `mockups/web-tms-redesign/component-showcase.html` documents all components
4. Theme toggle works on both HTML pages with localStorage persistence
5. All colors use CSS variables (no hardcoded hex in component styles)
6. All components render correctly in both dark and light themes
7. Sidebar has expanded, collapsed, and mobile overlay states
8. Modal opens/closes with animation
</verification>

<success_criteria>
- Card, table, stat-card, badge, button, form, and modal components are styled and documented
- Component showcase page shows all components organized by category
- All components work correctly in both dark and light themes
- No hardcoded colors in component CSS (all use var() tokens)
- Modal has working open/close with overlay, X button, and Escape key
- Showcase uses realistic TMS data (order numbers, routes, dollar amounts)
</success_criteria>

<output>
After completion, create `.planning/phases/06-design-system-foundation/06-02-SUMMARY.md`
</output>
